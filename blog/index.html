<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Blog ¬∑ Jest</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="üÉè Delightful JavaScript Testing"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Blog ¬∑ Jest"/><meta property="og:type" content="website"/><meta property="og:url" content="https://jestjs.io/index.html"/><meta property="og:description" content="üÉè Delightful JavaScript Testing"/><meta property="og:image" content="https://jestjs.io/img/opengraph.png"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://jestjs.io/blog/atom.xml" title="Jest Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://jestjs.io/blog/feed.xml" title="Jest Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-44373548-17', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="blog"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/jest.svg" alt="Jest"/><h2 class="headerTitleWithLogo">Jest</h2></a><a href="/en/versions"><h3>23.6</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/getting-started" target="_self">Docs</a></li><li class=""><a href="/docs/en/api" target="_self">API</a></li><li class=""><a href="/en/help" target="_self">Help</a></li><li class="siteNavGroupActive siteNavItemActive"><a href="/blog/" target="_self">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/ja">Êó•Êú¨Ë™û</a></li><li><a href="/es-ES">Espa√±ol</a></li><li><a href="/pt-BR">Portugu√™s (Brasil)</a></li><li><a href="/ro">Rom√¢nƒÉ</a></li><li><a href="/ru">–†—É—Å—Å–∫–∏–π</a></li><li><a href="/uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</a></li><li><a href="/zh-Hans">ÁÆÄ‰Ωì‰∏≠Êñá</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/facebook/jest" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>‚Ä∫</i><span>Recent Posts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Recent Posts</h3><ul><li class="navListItem"><a class="navItem" href="/blog/2018/06/27/supporting-jest-open-source">Supporting Jest Open Source</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/05/29/jest-23-blazing-fast-delightful-testing">Jest 23: üî• Blazing Fast Delightful Testing</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/12/18/jest-22">Jest 22: Refinements &amp; Custom Runners</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/05/06/jest-20-delightful-testing-multi-project-runner">Jest 20: üíñ Delightful Testing &amp; üèÉüèΩ Multi-Project-Runner</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/02/21/jest-19-immersive-watch-mode-test-platform-improvements">üÉè Jest 19: Immersive Watch Mode &amp; Test Platform Improvements</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer postContainer blogContainer"><div class="wrapper"><div class="posts"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2018/06/27/supporting-jest-open-source">Supporting Jest Open Source</a></h1><p class="post-meta">June 27, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/rickhanlonii" target="_blank" rel="noreferrer noopener">Rick Hanlon II</a></p><div class="authorPhoto"><a href="https://twitter.com/rickhanlonii" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/160800566/picture/?height=200&amp;width=200" alt="Rick Hanlon II"/></a></div></div></header><article class="post-content"><div><span><p>Jest is maintained by a community of open source contributors and Facebook employees.</p>
<p>Our open source contributors work on behalf of the community to create new features, fix bugs, and maintain the issue backlog. Facebook employees do the same, focused on the problems specific to Facebook's scale, and run all proposed releases on Facebook's enormous test suite before publishing.</p>
<p>All of us do our part to make testing delightful.</p>
<p>At the Jest Summit we announced the Jest Open Collective. This is our way to help support the efforts of the open source Jest community. <strong>To be absolutely clear: Facebook employees cannot benefit from the Jest Open Collective.</strong> The collective's sole purpose is to support the open source side of the Jest community.</p>
<p>In this post we'll outline what the Jest Open Collective is, the structure, and the goals we have.</p>
<h1><a class="anchor" aria-hidden="true" id="the-jest-open-collective"></a><a href="#the-jest-open-collective" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The Jest Open Collective</h1>
<p><img src="/img/blog/collective.png" alt="Banner image for Jest Open Collective"></p>
<p>Open Collective is a platform to manage groups of people transparently. Jest joins projects like <a href="https://opencollective.com/webpack">Webpack</a>, <a href="https://opencollective.com/babel">Babel</a>, <a href="https://opencollective.com/mochajs">Mocha</a>, <a href="https://opencollective.com/preact">Preact</a>, <a href="https://opencollective.com/vuejs">Vue</a>, and many more in supporting the open source community through the Open Collective platform.</p>
<h2><a class="anchor" aria-hidden="true" id="what-is-the-jest-open-collective"></a><a href="#what-is-the-jest-open-collective" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is the Jest Open Collective</h2>
<p>The Jest Open Collective is a group of open source contributors who operate in full transparency to:</p>
<ul>
<li>Receive funds from backers and sponsors</li>
<li>Approve expenses submitted by the community</li>
<li>Give everyone visibility on the budget</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="what-is-the-structure-of-the-collective"></a><a href="#what-is-the-structure-of-the-collective" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is the structure of the collective</h2>
<p>The Jest Open Collective is currently managed by three non-Facebook core contributors from the open source community:</p>
<ul>
<li><a href="https://twitter.com/thymikee">Michal Pierzchala</a></li>
<li><a href="https://github.com/simenb">Simen Bekkhus</a></li>
<li><a href="https://twitter.com/rickhanlonii">Rick Hanlon</a></li>
</ul>
<p>Michal has been an active Jest contributor since September 2016, Simen joined the core team in June 2017, and Rick joined in January. They're responsible for setting the budget, approving expenses, and managing admins of the collective. We have elected to keep <a href="https://twitter.com/cpojer">Christoph Nakazawa</a> as an adviser.</p>
<p>There are two levels of support for the collective: Backer and Sponsor.</p>
<h3><a class="anchor" aria-hidden="true" id="backers"></a><a href="#backers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Backers</h3>
<p>Backers of the collective are individuals contributing at least $2/month. We'll include a list of backers on the Jest homepage, README on github/yarn/npm, and Contributors page.</p>
<h3><a class="anchor" aria-hidden="true" id="sponsors"></a><a href="#sponsors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sponsors</h3>
<p>Sponsors of the collective are individuals and organizations contributing at least $100/month. We'll place sponsor logos with a link to their site on the Jest homepage, README on github/yarn/npm, and Contributors page.</p>
<h2><a class="anchor" aria-hidden="true" id="what-is-the-goal-of-the-collective"></a><a href="#what-is-the-goal-of-the-collective" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is the goal of the collective</h2>
<p>The goal of the collective is to support the work of open source contributors to Jest in order to make testing delightful.</p>
<p>To achieve that goal, we will use the funds to:</p>
<ul>
<li>Cover speaker travel expenses</li>
<li>Host events and meetups</li>
<li>Print and distribute swag</li>
<li>Develop and fund a bug bounty program (TBD)</li>
</ul>
<p>This is just the beginning and we're committed to getting this right. If you have ideas on how else we can support the community, or feedback on the structure of the collective, please reach out to us on <a href="https://twitter.com/fbjest">twitter</a>!</p>
<h1><a class="anchor" aria-hidden="true" id="thank-you"></a><a href="#thank-you" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Thank You</h1>
<p>Finally, thank you to everyone who contributes to the Jest community and open source in general. We are incredibly grateful that we get the opportunity to work on improving JavaScript testing together.</p>
<p>The Jest core team would also like to make a special thank you to Facebook Open Source for driving the creation of this collective.</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2018/05/29/jest-23-blazing-fast-delightful-testing">Jest 23: üî• Blazing Fast Delightful Testing</a></h1><p class="post-meta">May 29, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/rickhanlonii" target="_blank" rel="noreferrer noopener">Rick Hanlon II</a></p><div class="authorPhoto"><a href="https://twitter.com/rickhanlonii" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/160800566/picture/?height=200&amp;width=200" alt="Rick Hanlon II"/></a></div></div></header><article class="post-content"><div><span><p>Today we are excited to announce Jest 23, our largest major release to date! Together with over 100 contributors, we've shipped a ton of features and bug fixes. Thank you to everyone in the community for helping make JavaScript Testing Delightful.</p>
<p>We would also like to welcome both <a href="https://babeljs.io/">Babel</a> and <a href="https://webpack.js.org/">Webpack</a> to the Jest community! After converting from Mocha to Jest 23 Beta, Webpack saw their total test suite time reduced 6x from over 13 minutes to 2 minutes 20 seconds. <a href="https://twitter.com/search?q=%23blazingmeansgood">#blazingmeansgood</a></p>
<p>Here's are some of the Jest 23 highlights and breaking changes.</p>
<p>For a full list see the <a href="https://github.com/facebook/jest/blob/master/CHANGELOG.md">changelog</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="interactive-snapshot-mode"></a><a href="#interactive-snapshot-mode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interactive Snapshot Mode</h2>
<p>We've added a new default watch menu option we're calling Interactive Snapshot Mode. This new mode allows you to step through each failing snapshot in each failing suite to review your failed snapshots and choose to update or skip each individually.</p>
<p><img src="/img/blog/23-interactive.gif" alt="Interactive snapshot mode in action"></p>
<p>See the Interactive Snapshot Mode docs <a href="https://jestjs.io/docs/en/snapshot-testing.html#interactive-snapshot-mode">here</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="snapshot-property-matchers"></a><a href="#snapshot-property-matchers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Snapshot Property Matchers</h2>
<p>Often, objects you're snapshotting contain generated values like Dates and IDs. Jest now allows you to pass properties to the snapshot matcher which specify the structure of the data instead of the specific values. These property matchers are then verified before serializing the matcher type (instead of the value), giving you consistent snapshot results across test runs.</p>
<p><img src="/img/blog/23-snapshot-matchers.png" alt="Snapshot Property Matchers"></p>
<p>See the updated <code>toMatchSnapshot</code> <a href="https://jestjs.io/docs/en/expect.html#tomatchsnapshotpropertymatchers-snapshotname">docs</a> or the Property Matcher <a href="https://jestjs.io/docs/en/snapshot-testing.html#property-matchers">guide</a> for more information.</p>
<h2><a class="anchor" aria-hidden="true" id="custom-asynchronous-matchers"></a><a href="#custom-asynchronous-matchers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Asynchronous matchers</h2>
<p>We now support asynchronous matchers with <code>expect.extends</code>! Async matchers return a Promise so that you can <code>await</code> for the matcher to resolve. As an example:</p>
<p><img src="/img/blog/23-async-matchers.png" alt="Custom asynchronous matchers in action"></p>
<p>Docs available <a href="https://jestjs.io/docs/en/expect.html#expectextendmatchers">here</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="custom-asymmetric-matchers"></a><a href="#custom-asymmetric-matchers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Asymmetric Matchers</h2>
<p>Asymmetric matchers are a great tool to use when you only care about asymmetric equality. For example, when the left side is expected to be an object with some subset of properties on the right, instead of an exact match. Jest provides a number of asymmetric matchers out of the box, and in this release we're introducing Custom Asymmetric Matchers.</p>
<p><img src="/img/blog/23-asymmetric-matchers.png" alt="Custom asymmetric matchers in action"></p>
<h2><a class="anchor" aria-hidden="true" id="jest-each"></a><a href="#jest-each" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Jest Each</h2>
<p><a href="https://twitter.com/mattphillipsio">@mattphillipsio</a> has donated the <code>jest-each</code> package to Jest Core (thanks Matt!). <code>jest-each</code> is a library inspired by <a href="https://yarnpkg.com/en/package/mocha-each"><code>mocha-each</code></a> and <a href="http://spockframework.org/spock/docs/1.1/data_driven_testing.html#data-tables">Spock Data Tables</a> which allows you to define a table of test cases, and then run a test for each row with the specified column values. We support both array types and template literals for all flavors of <code>describe</code> and <code>test</code>. Docs are available <a href="https://jestjs.io/docs/en/api.html#testeachtable-name-fn">here</a>, and for those not on Jest 23 yet, we're still publishing <a href="https://yarnpkg.com/en/package/jest-each"><code>jest-each</code></a> separately!</p>
<p><img src="/img/blog/23-jest-each.png" alt="jest-each in action"></p>
<p>Huge shout out to Prettier for <a href="https://github.com/prettier/prettier/pull/4423">fixing</a> the table formatting so quickly (<a href="https://prettier.io/blog/2018/05/23/1.13.0.html#format-new-describeeach-table-in-jest-23-4423-by-ikatyang">see Prettier 1.13</a>)!</p>
<h2><a class="anchor" aria-hidden="true" id="new-matchers"></a><a href="#new-matchers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New Matchers</h2>
<p>We only add matchers to core if we believe they will be useful to a large amount of people in the Jest community, and leave the majority of matchers to the community (see <a href="https://yarnpkg.com/en/package/jest-extended">jest-extended</a>). Some matchers make the cut into core, and Jest 23 adds:</p>
<ul>
<li>nthCalledWith</li>
<li>toReturn</li>
<li>toReturnTimes</li>
<li>toReturnWith</li>
<li>lastReturnedWith</li>
<li>nthReturnedWith</li>
<li>toStrictEqual</li>
</ul>
<p><img src="/img/blog/23-new-matchers.png" alt="New matchers in action"></p>
<p>See the updated expect docs <a href="https://jestjs.io/docs/en/expect.html">here</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="debug-hanging-tests"></a><a href="#debug-hanging-tests" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Debug Hanging Tests</h2>
<p>A common issue we see on the issue tracker relates to ‚ÄúJest‚Äù hanging after a test run. This is usually due to app code leaving handles open, preventing Jest from exiting. In the past, users have resorted to <code>--forceExit</code> to fix (not recommended).</p>
<p>To help debug these issues, we're now detecting when Jest does not exit:</p>
<p><img src="/img/blog/23-hanging-before.png" alt="Detecting hanging tests"></p>
<p>And we offer a new flag <code>--detectOpenHandles</code> to help find the open handles:</p>
<p><img src="/img/blog/23-hanging-after.png" alt="Running detectOpenHandles"></p>
<p>See the updated CLI docs <a href="https://jestjs.io/docs/en/cli.html#detectopenhandles">here</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="watch-mode-plugins"></a><a href="#watch-mode-plugins" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Watch Mode Plugins</h2>
<p>We have completely rewritten the watch mode system to allow adding custom plugins to watch mode. Watch Mode Plugins now make it possible to hook into Jest events and provide custom menu options in the Watch Mode Menu. All of the default Watch Mode prompts are implemented as plugins in this system, and the docs to create your own are available <a href="https://jestjs.io/docs/en/watch-plugins.html">here</a>.</p>
<p>With this change, we're also now able to bring back typeahead support as a Watch Mode Plugin via <a href="https://yarnpkg.com/en/package/jest-watch-typeahead">jest-watch-typeahead</a>!</p>
<p><img src="/img/blog/23-typeahead.gif" alt="Typeahead plugin in action"></p>
<p>See <a href="https://github.com/jest-community/jest-watch-typeahead">jest-watch-typeahead</a> for documentation and install instructions. Huge thank you to <a href="https://twitter.com/rogeliog">@rogeliog</a> for the new watch mode plugin system and the jest-watch-typeahead plugin!</p>
<h2><a class="anchor" aria-hidden="true" id="breaking-changes"></a><a href="#breaking-changes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h2>
<p>As with every major release, we are making a few breaking changes to make larger changes in the future possible and to push the testing experience to a new level. Here's a list of the biggest changes you may see:</p>
<ul>
<li><strong>Require test descriptions and functions</strong>: We're now failing tests that do not include both a function and a description.</li>
<li><strong>Remove undefined props from React snapshots</strong>: Smaller snapshots and proper React behavior.</li>
<li><strong>Remove deprecations</strong>: We removed mapCoverage since it's no longer needed. Additionally, we removed <code>jest.genMockFunction</code> and <code>jest.genMockFn</code> since these are the same as <code>jest.fn</code>.</li>
<li><strong>Add snapshot names to failures</strong>: We added the snapshot name (if provided) to the snapshot failure message so it's easier to find the snapshot that's failing.</li>
<li><strong>Replace mock timestamps</strong>: We replaced mock timestamps with invocationCallOrder since two or mocks may often have the same timestamp, making it impossible to test the call order.</li>
<li><strong>Add results to mock snapshots</strong>: We added mock function call results to snapshots so that both the calls and the results of the invocation are tracked.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="other-improvements"></a><a href="#other-improvements" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other Improvements</h2>
<ul>
<li><strong>Watch mode coverage</strong>: Coverage is now limited to only the files tested in watch mode or when using <code>--onlyChanged</code> and <code>--findRelatedTests</code>.</li>
<li><strong>Version documentation</strong>: We added docs for each minor release back to Jest 22, and have removed all of the ‚ÄúRequires Jest X.X+‚Äù from the docs.</li>
<li><strong>Better snapshot summaries</strong>: We overhauled the Snapshot Summary output to make obsolete snapshots more informative.</li>
<li><strong>Better stack traces</strong>: We added stack traces to asynchronous errors, timeout errors, expect.assertions, and thrown non-errors. We're also indicating the column in the code frame!</li>
<li><strong>Better React 16 support</strong>: Adds snapshot support for <code>React.Fragment</code>, <code>React.forwardRef</code>, and <code>React.createContext</code>.</li>
<li><strong>Track mock return and throw values</strong>: Adds <code>mock.results</code> that contains the return value or thrown value for each mock call.</li>
<li><strong>Blazing üî•</strong>: We've added a blazing badge to the README to indicate that Jest is blazing good.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="jest-summit"></a><a href="#jest-summit" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Jest Summit</h2>
<p>Last week, the Jest Core Team met for the Jest Summit at Facebook London where worked on and released Jest 23, announced the Jest Open Collective, and gave a number of talks:</p>
<ul>
<li><strong>Christoph Nakazawa</strong> ‚Äì <a href="https://www.youtube.com/watch?v=cAKYQpTC7MA">Intro</a></li>
<li><strong>Aaaron Abramov</strong> ‚Äì <a href="https://youtu.be/cAKYQpTC7MA?t=440">Writing Meaningful Tests</a></li>
<li><strong>Rick Hanlon II</strong> ‚Äì <a href="https://youtu.be/cAKYQpTC7MA?t=1881">Blazing Fast Snapshot Testing in Jest 23</a></li>
<li><strong>Simen Bekkhus</strong> ‚Äì <a href="https://youtu.be/cAKYQpTC7MA?t=2990">Jest's Delightful Error Messages</a></li>
<li><strong>Matt Phillips</strong> ‚Äì <a href="https://youtu.be/cAKYQpTC7MA?t=3852">Level up your Jest experience with community packages</a></li>
<li><strong>Michele Bertoli</strong> ‚Äì <a href="https://youtu.be/cAKYQpTC7MA?t=4582">Snapshot all the things</a></li>
<li><strong>Jordan Eldredge</strong> ‚Äì <a href="https://youtu.be/cAKYQpTC7MA?t=5185">Webamp: Learn by imitating</a></li>
</ul>
<p>Full talk is available <a href="https://www.youtube.com/watch?v=cAKYQpTC7MA">here</a>.</p>
<p>The turnout was amazing, and we were able to meet a lot of the London-based community in person. Thank you to everyone who joined us and for your continued support! Stay tuned for our next post which will outline the Jest Open Collective and the plans we have for the future.</p>
<p><em>As always, this release couldn't have been possible without you, the JavaScript community. We are incredibly grateful that we get the opportunity to work on improving JavaScript testing together. If you'd like to contribute to Jest, please don't hesitate to reach out to us on</em> <em><a href="https://github.com/facebook/jest">GitHub</a> or on</em> <em><a href="https://discord.gg/MWRhKCj">Discord</a>.</em></p>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2017/12/18/jest-22">Jest 22: Refinements &amp; Custom Runners</a></h1><p class="post-meta">December 18, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/SimenB" target="_blank" rel="noreferrer noopener">Simen Bekkhus</a></p><div class="authorPhoto"><a href="https://github.com/SimenB" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/100003004880942/picture/?height=200&amp;width=200" alt="Simen Bekkhus"/></a></div></div></header><article class="post-content"><div><span><p>Today we are announcing a new major version of Jest which refines almost all parts of Jest to provide a more solid testing foundation. Together with the Jest community we made a number of changes across the board that will help you get more out of Jest. We are also graduating the custom runners feature out of the experimental stage and added a new package, <code>jest-worker</code>, for parallelizing work across multiple processes. We have compiled a list of highlights below but make sure to check out the (as always) <a href="https://github.com/facebook/jest/blob/master/CHANGELOG.md">massive changelog</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="good-bye-node-4-welcome-jsdom-11"></a><a href="#good-bye-node-4-welcome-jsdom-11" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Good bye Node 4 &amp; welcome JSDOM 11</h2>
<p>With this release we are dropping support for Node 4, mainly because one of our main dependencies, JSDOM, ended their support. Jest now comes out of the box with JSDOM 11 which features better support for SVGs, <code>requestAnimationFrame</code>, <code>URL</code> and <code>URLSearchParams</code> built in, and <a href="https://github.com/tmpvar/jsdom/blob/master/Changelog.md">much more</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="custom-runners-easy-parallelization-with-jest-worker"></a><a href="#custom-runners-easy-parallelization-with-jest-worker" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Runners + Easy parallelization with <code>jest-worker</code></h2>
<p>In Jest 21 we introduced the concept of custom Jest runners. Since then, Rogelio, one of Jest's core contributors, built a number of useful runners: If you have many existing tests written using another framework but you'd like to immediately benefit from Jest's features, check out <a href="https://yarnpkg.com/en/package/jest-runner-mocha">jest-runner-mocha</a>. If you have a large codebase that needs linting, <a href="https://twitter.com/lencioni/status/907398856756695040">you may get a significant speedup</a> if you run eslint within Jest using <a href="https://yarnpkg.com/en/package/jest-runner-eslint">jest-runner-eslint</a>.</p>
<p>To gain more of fine-grained control over heavy tasks parallelization (e.g. transforming files or crawling the file system), we designed a new library perfectly suited for the job. We developed a modern, Promise-based module with an approachable API, called <code>jest-worker</code>, that allows you to delegate to child processes those intensive functions. As <code>jest-worker</code>, like any other Jest package, is a part of the Jest platform, you can use it however you like even without ever using Jest itself. You'll find more in the documentation <a href="https://yarnpkg.com/en/package/jest-worker">here</a>.</p>
<p>To get a better understanding of custom runners and Jest as a platform, make sure to check out Rogelio's talk from Reactive Conf 2017: <a href="https://www.youtube.com/watch?v=NtjyeojAOBs">Jest as a Platform</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="codeframe-in-test-failures"></a><a href="#codeframe-in-test-failures" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Codeframe in test failures</h2>
<p>In order to more easily identify which assertion is failing your test, we've added a code frame showing the context where the assertion is in order to focus on your own code. See the following example test:</p>
<pre><code class="hljs">test(<span class="hljs-string">'some test'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">someFunctionWhichShouldThrow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-literal">false</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>();
    }

    <span class="hljs-keyword">return</span> <span class="hljs-string">'success!'</span>;
  }

  expect(someFunctionWhichShouldThrow).toThrowError();
});
</code></pre>
<p>In Jest 21, we would display the following error:</p>
<p><img src="/img/blog/22-failure-21.png" alt="failure in Jest 21"></p>
<p>In Jest 22, we have added a codeframe, giving more context to the failing assertions. We have also cleaned up the stack trace to remove more clutter than ever.</p>
<p><img src="/img/blog/22-failure-22.png" alt="failure in Jest 22"></p>
<h2><a class="anchor" aria-hidden="true" id="easier-testing-of-errors-thrown-in-async-code"></a><a href="#easier-testing-of-errors-thrown-in-async-code" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Easier testing of errors thrown in async code</h2>
<p>You can now use <code>toThrow</code> and <code>toThrowErrorMatchingSnapshot</code> on promise rejections in the same way you can on synchronous errors.</p>
<pre><code class="hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">throwingFunction</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'This failed'</span>);
}

test(<span class="hljs-string">'asynchronous rejection'</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">await</span> expect(throwingFunction()).rejects.toThrowErrorMatchingSnapshot();
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="asynchronous-test-environments"></a><a href="#asynchronous-test-environments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Asynchronous test environments</h2>
<p>When <a href="https://github.com/GoogleChrome/puppeteer/">Puppeteer</a>, a way of programmatically interacting with a real Chromium Browser, was announced by the Google Chrome team in August, many wanted to be able to use Jest to write their tests running them in Chrome. The community have helped us out making this possible by allowing asynchronous test environments. We are still working on making this experience as good as possible, but please see <a href="https://jestjs.io/docs/en/puppeteer.html">this guide</a> for how to use Puppeteer with Jest, starting today.</p>
<h2><a class="anchor" aria-hidden="true" id="experimental-leak-detection"></a><a href="#experimental-leak-detection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Experimental Leak Detection</h2>
<p>We added an experimental <code>--detectLeaks</code> setting to Jest that will let you know if your internal environment instance is leaked after a test execution. It will also warn you when your test suite tries to require a file after the test has finished, meaning you forgot to wait for all async operations or left something not properly cleaned. This will however not discover leaks in user land code, only in test land code; although the technology used behind it can help you (see <code>jest-leak-detector</code>). If you are reporting a bug about Jest's memory usage, please provide a repro where <code>--detectLeaks</code> will make the test suite fail. We <a href="https://github.com/facebook/jest/pull/4970">started building a better sandboxing mechanism</a> for Jest but it's not ready yet to be enabled by default. If you'd like to help, please reach out to us on discord!</p>
<h2><a class="anchor" aria-hidden="true" id="watch-mode-refinements"></a><a href="#watch-mode-refinements" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Watch Mode Refinements</h2>
<p>When using watch mode, there is now a way to <a href="https://github.com/facebook/jest/pull/4886">focus only on tests that previously failed</a>. In this mode, Jest will not re-run previously passing tests which should help you iron out all test failures. Additionally, <a href="https://github.com/facebook/jest/pull/4841">we added a plugin system to watch mode</a>. By adding modules to <code>watchPlugins</code> in your configuration you can extend the features of the watch mode.</p>
<h2><a class="anchor" aria-hidden="true" id="babel-7-support"></a><a href="#babel-7-support" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Babel 7 support</h2>
<p>Jest uses Babel under the hood to power code coverage and advanced mocking features. With Jest 22, it also supports the upcoming Babel 7. You'll find more in the documentation <a href="https://jestjs.io/docs/en/getting-started.html#using-babel">here</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="mock-function-improvements"></a><a href="#mock-function-improvements" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mock function improvements</h2>
<p>There has been a couple of changes to mock functions in Jest 22, making them even easier to use. Firstly, we added a <a href="https://jestjs.io/docs/en/mock-function-api.html#mockfnmocknamevalue"><code>mockName</code></a> property allowing you to name your mocks, which is useful in assertion failures. We have also made the Jest mock function serializable in <code>pretty-format</code>, meaning that you can snapshot test mocks. In Jest 21, <code>expect(jest.fn()).toMatchSnapshot()</code> would serialize to <code>[Function]</code>, in Jest 22, you might get something like this:</p>
<pre><code class="hljs">test(<span class="hljs-string">'my mocking test'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> mock = jest.fn().mockName(<span class="hljs-string">'myMock'</span>);

  mock(<span class="hljs-string">'hello'</span>, { foo: <span class="hljs-string">'bar'</span> });

  expect(mock).toMatchSnapshot();
});

<span class="hljs-comment">// Serializes to:</span>

[MockFunction myMock] {
  <span class="hljs-string">"calls"</span>: <span class="hljs-built_in">Array</span> [
    <span class="hljs-built_in">Array</span> [
      <span class="hljs-string">"hello"</span>,
      <span class="hljs-built_in">Object</span> {
        <span class="hljs-string">"foo"</span>: <span class="hljs-string">"bar"</span>,
      },
    ],
  ],
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="highlights-from-jest-21"></a><a href="#highlights-from-jest-21" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Highlights from Jest 21</h2>
<p>Jest 21 was released back in September, and we unfortunately never got around to write a blog post. So here is a quick summary of the main changes in version 21:</p>
<ol>
<li><strong>Use expect and jest-mock in the browser:</strong> <a href="https://github.com/mjackson">Michael Jackson</a> donated his excellent <a href="https://github.com/mjackson/expect"><code>expect</code></a> package to the Jest project. As part of that transition, the Jest core team, with much help from <a href="https://github.com/skovhus/">Kenneth Skovhus</a>, made both <code>jest-matchers</code> (renamed to <code>expect</code>) and <code>jest-mock</code> work in browsers. This means that while you cannot use Jest itself in browsers (<a href="https://github.com/facebook/jest/issues/848">yet</a>), you can use its awesome assertions and mocks for instance as replacements for Chai and Sinon running in Mocha tests. If you are migrating from earlier <code>expect</code> to the new Jest-powered <code>expect</code>, you can use <a href="https://github.com/skovhus/jest-codemods/"><code>jest-codemods</code></a> to automate the migration.</li>
<li><strong>MIT License:</strong> We changed Jest's license to MIT. <em>Yay!</em></li>
<li><strong>Fail test suites on async errors:</strong> Jest used to have a bug that made it crash when errors were thrown in certain parts of async code. This was fixed by community contributors.</li>
<li><strong>Faster startup:</strong> With Jest 21 we fine tuned Jest's startup to be more than 50% faster. The large overhead of Jest when running it on a small and fast test was always an issue for us and now this shouldn't be a reason to hold you back from using Jest any longer.</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="jest-community"></a><a href="#jest-community" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Jest Community</h2>
<p>The community around Jest is working hard to make the testing experience even greater. These are separate projects from the main Jest project, but we want to highlight some of our personal favorites here.</p>
<ul>
<li><a href="https://github.com/americanexpress/jest-image-snapshot">jest-image-snapshot</a> ‚Äì custom matcher to compare images with snapshots by American Express developers</li>
<li><a href="https://github.com/kulshekhar/ts-jest">ts-jest</a> ‚Äì all you need to successfully run Jest within TypeScript project by <a href="https://github.com/kulshekhar/ts-jest">@kulshekhar</a></li>
<li><a href="https://github.com/skovhus/jest-codemods/">jest-codemods</a> ‚Äì migrate your tests from other frameworks to Jest with ease</li>
<li><a href="https://github.com/negativetwelve/jest-plugins">jest-plugins</a> ‚Äì a new community project oriented around simplifying setting up test environment for specific tools, like React, or providing some handy utilities</li>
</ul>
<p>We'd also like to announce that recently we launched a new place for high quality Jest additions ‚Äì <a href="https://github.com/jest-community">jest-community</a>. It's a new GitHub organization already featuring our favorite projects, like <a href="https://github.com/jest-community/vscode-jest">vscode-jest</a>, <a href="https://github.com/jest-community/jest-extended">jest-extended</a>, to name a few, curated by Jest maintainers and collaborators. We've even migrated our <a href="https://github.com/jest-community/eslint-plugin-jest">eslint-plugin-jest</a> there, and already see some great contributions, which are published independently at a faster pace.</p>
<p><img src="/img/blog/22-community.png" alt="Jest Community"></p>
<p>Community projects under one organisation are also a great way for us to experiment on things like automated releases, which we'd like to explore for Jest as well. They also enable us to share some common things between them, like the shape of the README for example (thanks to the webpack Community for the idea), making it easier to learn and use for all of us.</p>
<p>If you have something awesome to share, feel free to reach out to us! We'd love to share your project here.</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2017/05/06/jest-20-delightful-testing-multi-project-runner">Jest 20: üíñ Delightful Testing &amp; üèÉüèΩ Multi-Project-Runner</a></h1><p class="post-meta">May 6, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="http://twitter.com/cpojer" target="_blank" rel="noreferrer noopener">Christoph Pojer</a></p><div class="authorPhoto"><a href="http://twitter.com/cpojer" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/100000023028168/picture/?height=200&amp;width=200" alt="Christoph Pojer"/></a></div></div></header><article class="post-content"><div><span><p>A few months ago we announced <a href="https://jestjs.io/blog/2017/02/21/jest-19-immersive-watch-mode-test-platform-improvements.html">Jest 19</a> which came with major new features and was the biggest Jest release until today. Jest 20 has twice the amount of changes compared to the previous version, features a complete rewrite of the test runner, adds new testing APIs. The new release enables a new level of customization and configuration for projects all while making it effortless to upgrade. Beyond Painless JavaScript Testing, we believe Jest is now delivering a <strong>Delightful JavaScript Testing experience</strong>. Let's take a look at the best new features and changes in depth:</p>
<h2><a class="anchor" aria-hidden="true" id="multi-project-runner-configuration-overhaul"></a><a href="#multi-project-runner-configuration-overhaul" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multi-Project-Runner &amp; Configuration Overhaul</h2>
<p>Until now, Jest could only operate in one project at a time. This is often cumbersome if you are working on many smaller projects that each have their own setup and configuration. With Jest 20, we rewrote the test runner completely to run many projects at the same time within a single instance of Jest, for example if you are working on a React frontend and a node.js backend. Here is a video of Jest running tests for <a href="https://github.com/facebook/react">React</a>, <a href="https://github.com/facebook/relay">Relay</a>, <a href="https://github.com/yarnpkg/yarn">Yarn</a> and Jest all at the same time:</p>
<p><img src="/img/blog/20-multi-runner.gif" alt="multi-runner"></p>
</span></div><div class="read-more"><a class="button" href="/blog/2017/05/06/jest-20-delightful-testing-multi-project-runner">Read More</a></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2017/02/21/jest-19-immersive-watch-mode-test-platform-improvements">üÉè Jest 19: Immersive Watch Mode &amp; Test Platform Improvements</a></h1><p class="post-meta">February 21, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="http://twitter.com/rogeliog" target="_blank" rel="noreferrer noopener">Rogelio Guzman</a></p><div class="authorPhoto"><a href="http://twitter.com/rogeliog" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/511230566/picture/?height=200&amp;width=200" alt="Rogelio Guzman"/></a></div></div></header><article class="post-content"><div><span><p>Today we are pleased to ship version 19 of the Jest testing platform. It's the biggest Jest release we have shipped so far and we are quite excited to show you what we've built over the last two months:</p>
<h2><a class="anchor" aria-hidden="true" id="immersive-watch-mode"></a><a href="#immersive-watch-mode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Immersive Watch Mode</h2>
<p>We <a href="https://github.com/facebook/jest/pull/2362">completely rewrote the watch mode</a> to make it instant and more extensible. As a result, the experience of using it really is immersive: tests re-run instantly after a file change and we made it easy to select the right tests.</p>
</span></div><div class="read-more"><a class="button" href="/blog/2017/02/21/jest-19-immersive-watch-mode-test-platform-improvements">Read More</a></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2017/01/30/a-great-developer-experience">A Great Developer Experience</a></h1><p class="post-meta">January 30, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="http://twitter.com/hectorramos" target="_blank" rel="noreferrer noopener">H√©ctor Ramos</a></p><div class="authorPhoto"><a href="http://twitter.com/hectorramos" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/121800083/picture/?height=200&amp;width=200" alt="H√©ctor Ramos"/></a></div></div></header><article class="post-content"><div><span><p>We strongly believe that great documentation is crucial to providing a great developer experience. The docs should be clear, concise, and useful to new users and veterans alike. With that in mind, we recently took some time to overhaul the Jest website.</p>
<h2><a class="anchor" aria-hidden="true" id="improved-docs"></a><a href="#improved-docs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Improved docs</h2>
<p>One of the changes you'll notice upon visiting our docs is the updated sidebar. The documentation is now divided into three main areas: an introduction to Jest, detailed guides to Jest's features, and a comprehensive API reference.</p>
<p>The <strong>Introduction</strong> section will guide you from installing Jest and writing your first case, to using Jest's matchers and testing async code. If you're new to Jest or need a quick refresher, these docs should get you up to speed in no time. If you've used Jest before and only need a quick reference on how it's installed, you need to go no further than the <a href="/docs/getting-started.html">Getting Started</a> guide.</p>
<p>Once you feel comfortable using Jest, proceed to the advanced <strong>Guides</strong> section. The new <a href="/docs/snapshot-testing.html">Snapshot Testing guide</a> covers everything you need to know about creating and maintaining snapshot test cases.</p>
<p>Finally, we've completely overhauled our API reference docs. You can now find detailed information on all of Jest's <a href="/docs/api.html">Globals</a>, <a href="/docs/expect.html">matchers</a>, and <a href="/docs/cli.html">every flag</a> supported by the <code>jest</code> CLI.</p>
</span></div><div class="read-more"><a class="button" href="/blog/2017/01/30/a-great-developer-experience">Read More</a></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2016/12/15/2016-in-jest">2016 in Jest</a></h1><p class="post-meta">December 15, 2016</p><div class="authorBlock"><p class="post-authorName"><a href="http://twitter.com/cpojer" target="_blank" rel="noreferrer noopener">Christoph Pojer</a></p><div class="authorPhoto"><a href="http://twitter.com/cpojer" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/100000023028168/picture/?height=200&amp;width=200" alt="Christoph Pojer"/></a></div></div></header><article class="post-content"><div><span><p>2016 was a big year for JavaScript testing with Jest. In the first six months of the year we rewrote Jest and built a solid foundation to significantly improve performance and the developer experience of testing JavaScript code. We flow-typed the entire codebase, built a ton of integration tests for Jest itself and adopted <a href="https://lernajs.io/">lerna</a> to turn Jest from a framework into a <a href="https://github.com/facebook/jest/tree/master/packages"><em>Painless JavaScript Testing platform</em></a>.</p>
<p>The newly created <a href="https://yarnpkg.com/en/package/react-test-renderer">react-test-renderer</a> finally enabled testing of react-native components. Through the jest-react-native preset (now merged directly into react-native) Jest now works out of the box for any React project and comes pre-configured in <a href="https://github.com/facebookincubator/create-react-app">create-react-app</a> and <a href="https://github.com/facebook/react-native">react-native</a> projects. We integrated core pieces of Jest into <a href="https://github.com/facebook/react-native/tree/master/packager/react-packager/src">react-native's packager</a> and the completely new snapshot testing feature has since been used outside of Jest: It was integrated with React Storybook as ‚Äú<a href="https://github.com/storybooks/storyshots">storyshots</a>‚Äù and is being adopted by other test runners like <a href="https://github.com/avajs/ava/pull/1113">ava</a>.</p>
</span></div><div class="read-more"><a class="button" href="/blog/2016/12/15/2016-in-jest">Read More</a></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2016/10/03/jest-16">Jest 16.0: Turbocharged CLI &amp; Community Update</a></h1><p class="post-meta">October 3, 2016</p><div class="authorBlock"><p class="post-authorName"><a href="http://twitter.com/cpojer" target="_blank" rel="noreferrer noopener">Christoph Pojer</a></p><div class="authorPhoto"><a href="http://twitter.com/cpojer" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/100000023028168/picture/?height=200&amp;width=200" alt="Christoph Pojer"/></a></div></div></header><article class="post-content"><div><span><p>It's been one month since the last major release and we've made significant improvements to Jest since. In this major release we are updating the snapshot format we are using which will likely require snapshots to be updated when upgrading Jest. We don't make these changes lightly and don't expect this to happen often but we think it is necessary to improve the format from time to time.</p>
<h2><a class="anchor" aria-hidden="true" id="upgraded-cli"></a><a href="#upgraded-cli" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgraded CLI</h2>
<p><img src="/img/blog/16-reporter.gif" alt="reporter"></p>
<p>Jest 16 features a new reporter interface that shows running tests as well as a live summary and a progress bar based on the estimated test runtime from previous test runs. We also improved the CLI output to work better with different color schemes. If there were test failures in a previous run, Jest will now always run those tests first to give useful signal to users as quickly as possible.</p>
</span></div><div class="read-more"><a class="button" href="/blog/2016/10/03/jest-16">Read More</a></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2016/09/01/jest-15">Jest 15.0: New Defaults for Jest</a></h1><p class="post-meta">September 1, 2016</p><div class="authorBlock"><p class="post-authorName"><a href="http://twitter.com/cpojer" target="_blank" rel="noreferrer noopener">Christoph Pojer</a></p><div class="authorPhoto"><a href="http://twitter.com/cpojer" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/100000023028168/picture/?height=200&amp;width=200" alt="Christoph Pojer"/></a></div></div></header><article class="post-content"><div><span><p>We spent the past year making Jest <a href="https://jestjs.io/blog/2016/03/11/javascript-unit-testing-performance.html">faster</a>, <a href="https://jestjs.io/blog/2016/04/12/jest-11.html">easier to configure</a>, <a href="https://jestjs.io/blog/2016/06/22/jest-13.html">added tons of features</a> and built <a href="https://jestjs.io/blog/2016/07/27/jest-14.html">snapshot testing</a>. However, there were two areas where we invested very little: the CLI output and user experience. With Jest 15 we are changing the framework radically to make it easier to use both for beginners and experienced users. We are excited that our investment in Jest is now paying off: we can move fast and improve the framework for Facebook and the open source community at light-speed. Jest's goal is to come with batteries included and to require as little configuration as necessary. We recently got a chance to explain our philosophy on a <a href="https://github.com/facebookincubator/create-react-app/pull/250#issuecomment-237098619">create-react-app issue</a>.</p>
<p>The most important change to talk about is a set of <a href="https://github.com/facebook/jest/pull/1511">new defaults</a>. If you are an existing Jest user you will very likely need to update your configuration for Jest 15. In most cases it will simplify your setup and Jest will provide useful error messages during the upgrade. All of the new defaults can be disabled to suit your needs, but we still consider the disabled features critical for Jest in certain situations and will continue to use and support them at Facebook long-term. Our <a href="https://jestjs.io/docs/api.html">API documentation</a> was also completely rewritten to reflect these changes. <a href="https://github.com/facebook/react/pull/7625/files">This pull request for React</a> highlights some of the changes necessary for existing projects.</p>
</span></div><div class="read-more"><a class="button" href="/blog/2016/09/01/jest-15">Read More</a></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2016/07/27/jest-14">Jest 14.0: React Tree Snapshot Testing</a></h1><p class="post-meta">July 27, 2016</p><div class="authorBlock"><p class="post-authorName"><a href="http://twitter.com/cpojer" target="_blank" rel="noreferrer noopener">Christoph Pojer</a></p><div class="authorPhoto"><a href="http://twitter.com/cpojer" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/100000023028168/picture/?height=200&amp;width=200" alt="Christoph Pojer"/></a></div></div></header><article class="post-content"><div><span><p>One of Jest's philosophies is to provide an integrated ‚Äúzero-configuration‚Äù experience. We want to make it as frictionless as possible to write good tests that are useful. We observed that when engineers are provided with ready-to-use tools, they end up writing more tests, which in turn results in stable and healthy code bases.</p>
<p>One of the big open questions was how to write React tests efficiently. There are plenty of tools such as <a href="https://facebook.github.io/react/docs/test-utils.html">ReactTestUtils</a> and <a href="http://airbnb.io/enzyme/">enzyme</a>. Both of these tools are great and are actively being used. However engineers frequently told us that they spend more time writing a test than the component itself. As a result many people stopped writing tests altogether which eventually led to instabilities. Engineers told us all they wanted was to make sure their components don't change unexpectedly.</p>
</span></div><div class="read-more"><a class="button" href="/blog/2016/07/27/jest-14">Read More</a></div></article></div><div class="docs-prevnext"><a class="docs-next" href="/blog/page2/">Next ‚Üí</a></div></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/jest-outline.svg" alt="Jest" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/getting-started.html">Getting Started</a><a href="/docs/en/snapshot-testing.html">Guides</a><a href="/docs/en/api.html">API Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discord.gg/MWRhKCj">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright ¬© 2019 Facebook Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '833906d7486e4059359fa58823c4ef56',
                indexName: 'jest',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:en","version:23.6"]}
              });
            </script></body></html>