<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Configuring Jest · Jest</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;Jestの設定は、プロジェクトの &lt;code&gt;package.json&lt;/code&gt; ファイルか、 &lt;code&gt;jest.config.js&lt;/code&gt;ファイルまたは &lt;code&gt;--config &amp;lt;path/to/js|json&amp;gt;&lt;/code&gt;オプションから、定義することができます。 &lt;code&gt;package.json&lt;/code&gt; に Jest の構成を保存したい場合は、Jest が設定を見つけられるように &amp;quot;jest&amp;quot; キーをトップレベルに設定しなければなりません。&lt;/p&gt;
"/><meta name="docsearch:version" content="22.4"/><meta name="docsearch:language" content="ja"/><meta property="og:title" content="Configuring Jest · Jest"/><meta property="og:type" content="website"/><meta property="og:url" content="https://jestjs.io/index.html"/><meta property="og:description" content="&lt;p&gt;Jestの設定は、プロジェクトの &lt;code&gt;package.json&lt;/code&gt; ファイルか、 &lt;code&gt;jest.config.js&lt;/code&gt;ファイルまたは &lt;code&gt;--config &amp;lt;path/to/js|json&amp;gt;&lt;/code&gt;オプションから、定義することができます。 &lt;code&gt;package.json&lt;/code&gt; に Jest の構成を保存したい場合は、Jest が設定を見つけられるように &amp;quot;jest&amp;quot; キーをトップレベルに設定しなければなりません。&lt;/p&gt;
"/><meta property="og:image" content="https://jestjs.io/img/opengraph.png"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://jestjs.io/blog/atom.xml" title="Jest Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://jestjs.io/blog/feed.xml" title="Jest Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-44373548-17', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/ja"><img class="logo" src="/img/jest.svg" alt="Jest"/><h2 class="headerTitleWithLogo">Jest</h2></a><a href="/ja/versions"><h3>22.4</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/ja/22.4/getting-started" target="_self">ドキュメント</a></li><li class="siteNavGroupActive"><a href="/docs/ja/22.4/api" target="_self">API</a></li><li class=""><a href="/ja/help" target="_self">ヘルプ</a></li><li class=""><a href="/blog/" target="_self">ブログ</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>日本語</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/22.4/configuration">English</a></li><li><a href="/docs/es-ES/22.4/configuration">Español</a></li><li><a href="/docs/pt-BR/22.4/configuration">Português (Brasil)</a></li><li><a href="/docs/ro/22.4/configuration">Română</a></li><li><a href="/docs/ru/22.4/configuration">Русский</a></li><li><a href="/docs/uk/22.4/configuration">Українська</a></li><li><a href="/docs/zh-Hans/22.4/configuration">简体中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/facebook/jest" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/using-matchers">Using Matchers</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/asynchronous">Testing Asynchronous Code</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/setup-teardown">Setup and Teardown</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/mock-functions">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/jest-platform">Jest Platform</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/more-resources">More Resources</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Guides</h3><ul><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/snapshot-testing">Snapshot Testing</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/tutorial-async">An Async Example</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/timer-mocks">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/manual-mocks">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/es6-class-mocks">ES6 Class Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/webpack">Using with webpack</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/puppeteer">Using with puppeteer</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/mongodb">Using with MongoDB</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/tutorial-jquery">DOM Manipulation</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/migration-guide">Migrating to Jest</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/troubleshooting">Troubleshooting</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Framework Guides</h3><ul><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/tutorial-react">Testing React Apps</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/tutorial-react-native">Testing React Native Apps</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/testing-frameworks">Testing Web Frameworks</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API Reference</h3><ul><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/api">Globals</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/expect">Expect</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/mock-function-api">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/jest-object">The Jest Object</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/ja/22.4/configuration">Configuring Jest</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/22.4/cli">Jest CLI Options</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/facebook/jest/edit/master/docs/Configuration.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Configuring Jest</h1></header><article><div><span><p>Jestの設定は、プロジェクトの <code>package.json</code> ファイルか、 <code>jest.config.js</code>ファイルまたは <code>--config &lt;path/to/js|json&gt;</code>オプションから、定義することができます。 <code>package.json</code> に Jest の構成を保存したい場合は、Jest が設定を見つけられるように &quot;jest&quot; キーをトップレベルに設定しなければなりません。</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"my-project"</span>,
  <span class="hljs-attr">"jest"</span>: {
    <span class="hljs-attr">"verbose"</span>: <span class="hljs-literal">true</span>
  }
}
</code></pre>
<p>またはJavaScriptファイルで</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// jest.config.js</span>
<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">verbose</span>: <span class="hljs-literal">true</span>,
};
</code></pre>
<p>出力される構成はJSON形式でシリアライズできなければならないことに留意して下さい。</p>
<p><code>--config</code> オプションを使用した場合、JSON ファイルには &quot;jest&quot; キーを含んではいけません。</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"bail"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"verbose"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="オプション"></a><a href="#オプション" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>オプション</h2>
<p>オプションを指定することで <code>package.json</code>内でのJestの動作をコントロールできます。Jestの哲学はそのままでも十分に動作することですが、時としてより強力な設定が必要となることもあるでしょう。</p>
<p>&lt;autogenerated_table_of_contents&gt;</p>
<hr>
<h2><a class="anchor" aria-hidden="true" id="リファレンス"></a><a href="#リファレンス" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>リファレンス</h2>
<h3><a class="anchor" aria-hidden="true" id="automock-boolean"></a><a href="#automock-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>automock</code> [boolean]</h3>
<p>デフォルト: <code>false</code></p>
<p>このオプションは、テスト内でインポートしたすべてのモジュールを自動的にモックするするように Jest に伝えます。テスト内で使われるすべてのモジュールは、同じ API のシグネチャを持つ限り、他の実装に置き換えることができるということです。</p>
<p>例:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">authorize</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'token'</span>;
  },
  <span class="hljs-attr">isAuthorized</span>: <span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> secret === <span class="hljs-string">'wizard'</span>,
};
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">//__tests__/automocking.test.js</span>
<span class="hljs-keyword">import</span> utils <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;

test(<span class="hljs-string">'if utils mocked automatically'</span>, () =&gt; {
  <span class="hljs-comment">// Public methods of `utils` are now mock functions</span>
  expect(utils.authorize.mock).toBeTruthy();
  expect(utils.isAuthorized.mock).toBeTruthy();

  <span class="hljs-comment">// You can provide them with your own implementation</span>
  <span class="hljs-comment">// or just pass the expected return value</span>
  utils.authorize.mockReturnValue(<span class="hljs-string">'mocked_token'</span>);
  utils.isAuthorized.mockReturnValue(<span class="hljs-literal">true</span>);

  expect(utils.authorize()).toBe(<span class="hljs-string">'mocked_token'</span>);
  expect(utils.isAuthorized(<span class="hljs-string">'not_wizard'</span>)).toBeTruthy();
});
</code></pre>
<p><em>デフォルトでは <code>fs</code>のようなコア機能のモジュールはモックされません。それらのモジュールは <code>jest.mock('fs')</code>のように明示的にモックする必要があります。</em></p>
<p><em>注意: 自動モック機能は大規模なプロジェクトで特に顕著にパフォーマンスに影響します。詳細や解決策については、<a href="troubleshooting.html#tests-are-slow-when-leveraging-automocking">こちら</a>を参照して下さい。</em></p>
<h3><a class="anchor" aria-hidden="true" id="browser-boolean"></a><a href="#browser-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>browser</code> [boolean]</h3>
<p>デフォルト: <code>false</code></p>
<p>モジュールの依存関係を解決する際に <code>package.json</code>内に記述されたBrowserifyの <a href="https://github.com/substack/browserify-handbook#browser-field"><code>&quot;browser&quot;</code> フィールド</a>を優先します。 一部のモジュールはNode上で動作しているかブラウザ上で動作しているかによって異なるバージョンを出力します。</p>
<h3><a class="anchor" aria-hidden="true" id="bail-boolean"></a><a href="#bail-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>bail</code> [boolean]</h3>
<p>デフォルト: <code>false</code></p>
<p>デフォルトではJestは全テストを実行し、完了時にコンソールに発生した全てのエラーを表示します。bailオプションは最初のエラー発生直後にテストを停止したい場合に指定します。</p>
<h3><a class="anchor" aria-hidden="true" id="cachedirectory-string"></a><a href="#cachedirectory-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>cacheDirectory</code> [string]</h3>
<p>デフォルト: <code>&quot;/tmp/&lt;path&gt;&quot;</code></p>
<p>Jestがキャッシュする依存情報を格納するディレクトリを指定します。</p>
<p>Jestはテスト実行中に必要となるかもしれないファイルシステムを集めやすくするため、依存関係のツリーを一度(前もって) 読み込んでキャッシュします。 この設定オプションによりJestがディスク上にキャッシュを格納する場所を指定できます。</p>
<h3><a class="anchor" aria-hidden="true" id="collectcoverage-boolean"></a><a href="#collectcoverage-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>collectCoverage</code> [boolean]</h3>
<p>デフォルト: <code>false</code></p>
<p>テスト実行中にカバレッジ情報を取得するかどうかを指定します。 カバレッジ取得を指定して実行される全てのファイルについて書き換えるので、テストが大幅に遅くなることがあります。</p>
<h3><a class="anchor" aria-hidden="true" id="collectcoveragefrom-array"></a><a href="#collectcoveragefrom-array" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>collectCoverageFrom</code> [array]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>カバレッジ情報を取得する対象のファイルを指定する <a href="https://github.com/jonschlinkert/micromatch">globパターン</a>の配列を設定します。 ファイルが指定されたglobパターンに一致すれば、ファイルにテストが存在せずテストスイートが必要としないファイルであってもカバレッジ情報を収集します。</p>
<p>例:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"collectCoverageFrom"</span>: [
    <span class="hljs-string">"**/*.{js,jsx}"</span>,
    <span class="hljs-string">"!**/node_modules/**"</span>,
    <span class="hljs-string">"!**/vendor/**"</span>
  ]
}
</code></pre>
<p>上記の設定ではプロジェクトの <code>rootDir</code>配下の<code>**/node_modules/**</code> または<code>**/vendor/**</code>に一致するものを除いたすべてのファイルからカバレッジ情報を取得します。</p>
<p><em>注意: このオプションを使用するには<code>collectCoverage</code>パラメータがtrueに設定されているか<code>--coverage</code>オプションを付けてjestを実行する必要があります。</em></p>
<h3><a class="anchor" aria-hidden="true" id="coveragedirectory-string"></a><a href="#coveragedirectory-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>coverageDirectory</code> [string]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>カバレッジ情報を出力するファイルを格納するディレクトリを指定します。</p>
<h3><a class="anchor" aria-hidden="true" id="coveragepathignorepatterns-array-string"></a><a href="#coveragepathignorepatterns-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>coveragePathIgnorePatterns</code> [array<string>]</h3>
<p>デフォルト: <code>[&quot;/node_modules/&quot;]</code></p>
<p>テスト実行前に全てのファイルのパスに対して照合する正規表現パターンの配列を指定します。指定したパターンのいずれかに一致したファイルはカバレッジ情報が取得されません。</p>
<p>パターン文字列はフルパスに対して照合されます。 <code>&lt;rootDir&gt;</code> 文字列トークンをプロジェクトのルートディレクトリとして指定することで、異なるルートディレクトリを持ちうる異なる環境のファイルを誤って無視してしまうことを防ぐことができます。 例: <code>[&quot;&lt;rootDir&gt;/build/&quot;, &quot;&lt;rootDir&gt;/node_modules/&quot;]</code>。</p>
<h3><a class="anchor" aria-hidden="true" id="coveragereporters-array-string"></a><a href="#coveragereporters-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>coverageReporters</code> [array<string>]</h3>
<p>Default: <code>[&quot;json&quot;, &quot;lcov&quot;, &quot;text&quot;, &quot;clover&quot;]</code></p>
<p>カバレッジの要約を出力する際のレポート形式のリストを指定します。任意の<a href="https://github.com/gotwarlost/istanbul/tree/master/lib/report">istanbulモジュールのレポート形式</a> が使用できます。</p>
<p><em>注意: このオプションを設定した場合、既定値は上書きされます。コンソール出力でカバレッジ情報を確認するには<code>&quot;text&quot;</code> または <code>&quot;text-summary&quot;</code>をリストに追加して下さい。</em></p>
<h3><a class="anchor" aria-hidden="true" id="coveragethreshold-object"></a><a href="#coveragethreshold-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>coverageThreshold</code> [object]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>このオプションはカバレッジ取得結果の最小しきい値を強制的に設定します。 しきい値は、 <code>global</code>、 <a href="https://github.com/isaacs/node-glob#glob-primer">glob</a> およびディレクトリもしくはファイルパスを指定できます。 しきい値に到達しなかった場合、Jest はテストが失敗したと判定します。 正の値で指定されたしきい値を、最小限求められるカバレッジのパーセンテージとして設定します。 負のしきい値を設定することで、カバーされなかった部分の最大許容量を指定します。</p>
<p>たとえば、以下の設定では、ブランチ、行、関数でカバレッジが 80% を下回るものがあるか、または 10 個以上のステートメントがカバーされていなかった場合、Jest はテストが失敗したと判定します。</p>
<pre><code class="hljs css language-json">{
  ...
  "jest": {
    "coverageThreshold": {
      "global": {
        "branches": 80,
        "functions": 80,
        "lines": 80,
        "statements": -10
      }
    }
  }
}
</code></pre>
<p>もし glob またはパスが <code>global</code> として指定されていれば、一致したパスのカバレッジデータは全体のカバレッジからは除外され、独自のしきい値が適用されます。 glob へのしきい値はその globs と一致する全てのファイルに適用されます。 指定されたパスのファイルが見つからない場合は、エラーが返されます。</p>
<p>例えば、以下の設定では：</p>
<pre><code class="hljs css language-json">{
  ...
  "jest": {
    "coverageThreshold": {
      "global": {
        "branches": 50,
        "functions": 50,
        "lines": 50,
        "statements": 50
      },
      "./src/components/": {
        "branches": 40,
        "statements": 40
      },
      "./src/reducers/**/*.js": {
        "statements": 90
      },
      "./src/api/very-important-module.js": {
        "branches": 100,
        "functions": 100,
        "lines": 100,
        "statements": 100
      }
    }
  }
}
</code></pre>
<p>Jest は以下の状況ではテストが失敗したと判断します：</p>
<ul>
<li><code>./src/components</code> ディレクトリで、ブランチまたはステートメントのカバレッジが 40% 未満。</li>
<li><code>./src/reducers/**/*.js</code> のglob表現に一致するファイルの1つのカバレッジが 90% 未満。</li>
<li><code>./src/api/very-important-module.js</code> ファイルのカバレッジが 100% 未満。</li>
<li>残りのファイルのカバレッジが 50% 未満 (<code>global</code> で設定)。</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="forcecoveragematch-array-string"></a><a href="#forcecoveragematch-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>forceCoverageMatch</code> [array<string>]</h3>
<p>デフォルト: <code>['']</code></p>
<p>テストファイル自体は、通常コードカバレッジの収集対象から除外されます。このオプションを使うことで、このふるまいを上書きし、通常は無視されるファイルをコードカバレッジに含めることができます。</p>
<p>たとえば、次のような <code>.t.js</code> 拡張子を持つソースファイルがある時、</p>
<pre><code class="hljs css language-javascript"><span class="hljs-comment">// sum.t.js</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">a, b</span>) </span>{
  <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-keyword">if</span> (process.env.NODE_ENV === <span class="hljs-string">'test'</span>) {
  test(<span class="hljs-string">'sum'</span>, () =&gt; {
    expect(sum(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)).toBe(<span class="hljs-number">3</span>);
  });
}
</code></pre>
<p><code>forceCoverageMatch</code> を設定することで、これらのファイルからカバレッジを集めることができます。</p>
<pre><code class="hljs css language-json">{
  ...
  "jest": {
    "forceCoverageMatch": ["**/*.t.js"]
  }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="globals-object"></a><a href="#globals-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>globals</code> [object]</h3>
<p>デフォルト: <code>{}</code></p>
<p>全テスト環境で利用できるグローバル変数の配列を指定します。</p>
<p>例えば、下記の設定はグローバル変数 <code>__DEV__</code> は全てのテスト環境において <code>true</code>となります。</p>
<pre><code class="hljs css language-json">{
  ...
  "jest": {
    "globals": {
      "__DEV__": true
    }
  }
}
</code></pre>
<p>（オブジェクトや配列のような）グローバル参照値を指定して一部のコードでテスト中にその値に変更を加える場合は、その変更は異なるテストファイルで実行されるテスト間で保存され<em>ない</em> ことに注意して下さい。 さらに、<code>globals</code> オブジェクトは json シリアライズ可能でなければならないため、グローバルな関数を指定することはできません。 そのためには、<code>setupFiles</code> を使用します。</p>
<h3><a class="anchor" aria-hidden="true" id="globalsetup-string"></a><a href="#globalsetup-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>globalSetup</code> [string]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>このオプションでは、カスタムのグローバルセットアップモジュールを指定することができます。モジュールでは、すべてのテストスイーツの前に一度だけトリガされる非同期関数をエクスポートします。</p>
<h3><a class="anchor" aria-hidden="true" id="globalteardown-string"></a><a href="#globalteardown-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>globalTeardown</code> [string]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>このオプションでは、カスタムのグローバルティアダウンモジュールを指定することができます。モジュールでは、すべてのテストスイーツの後に一度だけトリガされる非同期関数をエクスポートします。</p>
<h3><a class="anchor" aria-hidden="true" id="modulefileextensions-array-string"></a><a href="#modulefileextensions-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>moduleFileExtensions</code> [array<string>]</h3>
<p>デフォルト: <code>[&quot;js&quot;, &quot;json&quot;, &quot;jsx&quot;, &quot;node&quot;]</code></p>
<p>An array of file extensions your modules use. If you require modules without specifying a file extension, these are the extensions Jest will look for, in left-to-right order.</p>
<p>If you are using TypeScript, you will want to add <code>&quot;ts&quot;</code> and/or <code>&quot;tsx&quot;</code> to the above default. Where you place these is up to you - we recommend placing the extensions most commonly used in your project on the left.</p>
<h3><a class="anchor" aria-hidden="true" id="moduledirectories-array-string"></a><a href="#moduledirectories-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>moduleDirectories</code> [array<string>]</h3>
<p>デフォルト: <code>[&quot;node_modules&quot;]</code></p>
<p>必要なモジュールの格納場所から上方向に再帰的に探索を行うディレクトリ名の配列を指定します。 このオプションを指定することで既定値が<em>上書き</em>されるため、 <code>node_modules</code>内でパッケージの探索を行いたい場合は、他のオプションに加えて次の配列を追加して下さい: <code>[&quot;node_modules&quot;, &quot;bower_components&quot;]</code></p>
<h3><a class="anchor" aria-hidden="true" id="modulenamemapper-object-string-string"></a><a href="#modulenamemapper-object-string-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>moduleNameMapper</code> [object&lt;string, string&gt;]</h3>
<p>デフォルト: <code>null</code></p>
<p>単一のモジュールで画像やスタイルのようなリソースをスタブさせるために利用する正規表現パターンからモジュール名へのマップを指定します。</p>
<p>別名にマップされているモジュールはデフォルトでは自動モック機能が有効かどうかに関わらずモックされません。</p>
<p>ファイルパスで<a href="#rootdir-string"><code>rootDir</code></a>を使いたい場合は、<code>&lt;rootDir&gt;</code>文字列トークンを設定して下さい。</p>
<p>加えて、正規表現によりキャプチャした文字列を数字付きの後方参照を使って代入することができます。</p>
<p>例:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"moduleNameMapper"</span>: {
    <span class="hljs-attr">"^image![a-zA-Z0-9$_-]+$"</span>: <span class="hljs-string">"GlobalImageStub"</span>,
    <span class="hljs-attr">"^[./a-zA-Z0-9$_-]+\\.png$"</span>: <span class="hljs-string">"&lt;rootDir&gt;/RelativeImageStub.js"</span>,
    <span class="hljs-attr">"module_name_(.*)"</span>: <span class="hljs-string">"&lt;rootDir&gt;/substituted_module_$1.js"</span>
  }
}
</code></pre>
<p>マッピングを定義する順序は重要です。パターンは、マッチするまで1つ1つ順番にチェックされます。そのため、最も特殊なルールはリストの一番上に指定するべきです。</p>
<p><em>注意: モジュール名を 正規表現<code>^$</code>による境界なしでモジュール名を指定するとエラーの特定が困難となることがあります。 例えば <code>relay</code>という表現では <code>relay</code>を名前に含む全てのモジュール名の置換を行います: <code>relay</code>, <code>react-relay</code> そして <code>graphql-relay</code>の全てが指定したスタブに置き換わります。</em></p>
<h3><a class="anchor" aria-hidden="true" id="modulepathignorepatterns-array-string"></a><a href="#modulepathignorepatterns-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>modulePathIgnorePatterns</code> [array<string>]</h3>
<p>デフォルト: <code>[]</code></p>
<p>モジュールローダーから'見える'状態となる前に全てのモジュールパスに対して照合する正規表現の文字列の配列を指定します。 与えられたモジュールのパスがこの正規表現に一致した場合、テスト環境では当該モジュールは<code>require()</code>できなくなります。</p>
<p>パターン文字列はフルパスに対して照合されます。 <code>&lt;rootDir&gt;</code> 文字列トークンをプロジェクトのルートディレクトリとして指定することで、異なるルートディレクトリを持ちうる異なる環境のファイルを誤って無視してしまうことを防ぐことができます。 例: <code>[「&lt; rootDir &gt; ビルド/」]</code>。</p>
<h3><a class="anchor" aria-hidden="true" id="modulepaths-array-string"></a><a href="#modulepaths-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>modulePaths</code> [array<string>]</h3>
<p>デフォルト: <code>[]</code></p>
<p><code>NODE_PATH</code> 環境変数を設定する代わりの API として、<code>modulePaths</code> にはモジュールの依存関係の解決を行う際の追加のロケーションの絶対パスの配列を指定します。 プロジェクトのルートディレクトリへのパスを指定するには<code>&lt;rootDir&gt;</code> 文字列トークンを使用して下さい。 例: <code>[&quot;&lt;rootDir&gt;/app/&quot;]</code>。</p>
<h3><a class="anchor" aria-hidden="true" id="notify-boolean"></a><a href="#notify-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>notify</code> [boolean]</h3>
<p>デフォルト: <code>false</code></p>
<p>テスト結果の通知機能を有効にします。</p>
<h3><a class="anchor" aria-hidden="true" id="notifymode-string"></a><a href="#notifymode-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>notifyMode</code> [string]</h3>
<p>デフォルト: <code>always</code></p>
<p>通知のモードを指定します。<code>notify: true</code> が必要です。</p>
<h4><a class="anchor" aria-hidden="true" id="モード"></a><a href="#モード" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>モード</h4>
<ul>
<li><code>always</code>: 常に通知を送ります。</li>
<li><code>failure</code>: テストが失敗した場合に通知を送ります。</li>
<li><code>success</code>: テストが成功した場合に通知を送ります。</li>
<li><code>change</code>: ステータスが変化した場合に通知を送ります。</li>
<li><code>success-change</code>: テストが成功したか、一度失敗した場合に通知を送ります。</li>
<li><code>failure-change</code>: send a notification when tests fails or once when it passes.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="preset-string"></a><a href="#preset-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>preset</code> [string]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>Jestの設定の基盤として利用されるプリセットを指定します。<code>jest-preset.json</code>を出力するnpmモジュールをプリセットのトップレベルに指定する必要があります。</p>
<h3><a class="anchor" aria-hidden="true" id="projects-array-string-projectconfig"></a><a href="#projects-array-string-projectconfig" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>projects</code> [array&lt;string | projectconfig&gt;]</h3>
<p>デフォルト: <code>undefined</code></p>
<p><code>projects</code>設定がパスやglobパターンの配列で与えられた場合、Jestは指定されたプロジェクト全てで同時にテストを実行します。 このオプションはmonorepo構成のプロジェクトや同時に複数のプロジェクトに従事している時に効果を発揮します。</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"projects"</span>: [<span class="hljs-string">"&lt;rootDir&gt;"</span>, <span class="hljs-string">"&lt;rootDir&gt;/examples/*"</span>]
}
</code></pre>
<p>この例の設定ではJestはルートディレクトリと同時にexamples配下の各ディレクトリでテストを実行します。同じJestのインスタンスで無制限に複数のプロジェクトのテストを実行できます。</p>
<p>プロジェクト機能は、複数の設定や複数の<a href="#runner-string">ランナー</a>を走らせるためにも使用できます。 この目的のために、設定オブジェクトの配列を渡すことができます。 たとえば、テストと ESLint (via <a href="https://github.com/jest-community/jest-runner-eslint">jest-runner-eslint</a>) の両方を Jest の同じ呼び出しで実行するには、次のような設定を書きます。</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"projects"</span>: [
    {
      <span class="hljs-attr">"displayName"</span>: <span class="hljs-string">"test"</span>
    },
    {
      <span class="hljs-attr">"displayName"</span>: <span class="hljs-string">"lint"</span>,
      <span class="hljs-attr">"runner"</span>: <span class="hljs-string">"jest-runner-eslint"</span>,
      <span class="hljs-attr">"testMatch"</span>: [<span class="hljs-string">"&lt;rootDir&gt;/**/*.js"</span>]
    }
  ]
}
</code></pre>
<p><em>注意: 複数のプロジェクトを走るランナーを使う時は、プロジェクトごとに <code>displayName</code> を指定することをおすすめします。そうすることで、プロジェクトの <code>displayName</code> がテストの隣に表示されるようになります。</em></p>
<h3><a class="anchor" aria-hidden="true" id="clearmocks-boolean"></a><a href="#clearmocks-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>clearMocks</code> [boolean]</h3>
<p>デフォルト: <code>false</code></p>
<p>各テストごとに自動的にモックコールとモックインスタンスをクリアします。 各テスト間で<code>jest.clearAllMocks()</code>を呼び出すのと同じです。 このオプションは与えられたモックの実装を削除することはしません。</p>
<h3><a class="anchor" aria-hidden="true" id="reporters-array-modulename-modulename-options"></a><a href="#reporters-array-modulename-modulename-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>reporters</code> [array&lt;modulename | [modulename, options]&gt;]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>Jestにカスタムレポーターを追加するにはこの設定オプションを指定します。 カスタムレポーターは、 <code>onRunStart</code>、<code>onTestStart</code>、<code>onTestResult</code>、 <code>onRunComplete</code> メソッドを実装したクラスであり、各イベントが発生した場合にこれらのメソッドが呼ばれます。</p>
<p>カスタムレポーターが指定された場合、デフォルトのJestのレポーターは上書きされます。デフォルトのレポーターも併せて使用する場合は、モジュール名に<code>default</code>を指定できます。</p>
<p>以下の設定はデフォルトのレポーターを上書きします。</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"reporters"</span>: [<span class="hljs-string">"&lt;rootDir&gt;/my-custom-reporter.js"</span>]
}
</code></pre>
<p>以下の設定はJestが提供するデフォルトのレポーターに加えてカスタムレポーターを使用します。</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"reporters"</span>: [<span class="hljs-string">"default"</span>, <span class="hljs-string">"&lt;rootDir&gt;/my-custom-reporter.js"</span>]
}
</code></pre>
<p>加えて、カスタムレポーターは第2引数に<code>options</code>オプションを渡すことで設定を行うことができます。</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"reporters"</span>: [
    <span class="hljs-string">"default"</span>,
    [<span class="hljs-string">"&lt;rootDir&gt;/my-custom-reporter.js"</span>, {<span class="hljs-attr">"banana"</span>: <span class="hljs-string">"yes"</span>, <span class="hljs-attr">"pineapple"</span>: <span class="hljs-string">"no"</span>}]
  ]
}
</code></pre>
<p>カスタムレポーターのモジュールはコンストラクタ引数に<code>GlobalConfig</code>とレポーターオプションをとるクラスとして定義されなければなりません。</p>
<p>レポーターの例:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// my-custom-reporter.js</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyCustomReporter</span> </span>{
  <span class="hljs-keyword">constructor</span>(globalConfig, options) {
    <span class="hljs-keyword">this</span>._globalConfig = globalConfig;
    <span class="hljs-keyword">this</span>._options = options;
  }

  onRunComplete(contexts, results) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Custom reporter output:'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'GlobalConfig: '</span>, <span class="hljs-keyword">this</span>._globalConfig);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Options: '</span>, <span class="hljs-keyword">this</span>._options);
  }
}

<span class="hljs-built_in">module</span>.exports = MyCustomReporter;
</code></pre>
<p>カスタムレポーターは<code>getLastError()</code>メソッドでエラーを返すことでJestを0でない戻り値で終了させることができます。</p>
<pre><code class="hljs css language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyCustomReporter</span> </span>{
  <span class="hljs-comment">// ...</span>
  getLastError() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._shouldFail) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'my-custom-reporter.js reported an error'</span>);
    }
  }
}
</code></pre>
<p>全てのメソッドと引数の型を確認するには、<a href="https://github.com/facebook/jest/blob/master/types/TestRunner.js">types/TestRunner.js</a>内の <code>Reporter</code> typeを参照して下さい。</p>
<h3><a class="anchor" aria-hidden="true" id="resetmocks-boolean"></a><a href="#resetmocks-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>resetMocks</code> [boolean]</h3>
<p>デフォルト: <code>false</code></p>
<p>各テストごとに自動的にモックの状態をリセットします。 各テストの間で <code>jest.resetAllMocks()</code>を実行するのと同じです。 このオプションはあらゆるモックに見せかけの実装を削除させますが、モックを最初の時点の実装に戻すものではありません。</p>
<h3><a class="anchor" aria-hidden="true" id="resetmodules-boolean"></a><a href="#resetmodules-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>resetModules</code> [boolean]</h3>
<p>デフォルト: <code>false</code></p>
<p>有効化した場合、個々のテストを実行する前に各テストファイルのモジュールレジストリがリセットされます。 このオプションはテスト間のローカルのモジュールの状態が競合しないように各テストで使うモジュールを切り離したい場合に便利です。 プログラム内で <a href="#jest-resetmodules"><code>jest.resetModules()</code></a>を利用することでも同様のことができます。</p>
<h3><a class="anchor" aria-hidden="true" id="resolver-string"></a><a href="#resolver-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>resolver</code> [string]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>カスタムのリゾルバを利用する場合はこのオプションを指定します。 このリゾルバは、第1引数に依存関係の解決に用いるパスの文字列を、第2引数に以下の構造のオブジェクトを受け取る関数をエクスポートするnodeモジュールでなければなりません:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"basedir"</span>: string,
  <span class="hljs-attr">"browser"</span>: bool,
  <span class="hljs-attr">"extensions"</span>: [string],
  <span class="hljs-attr">"moduleDirectory"</span>: [string],
  <span class="hljs-attr">"paths"</span>: [string],
  <span class="hljs-attr">"rootDir"</span>: [string]
}
</code></pre>
<p>関数は解決されるべきモジュールへのパスかモジュールが見つからなければエラーを返します。</p>
<h3><a class="anchor" aria-hidden="true" id="restoremocks-boolean"></a><a href="#restoremocks-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>restoreMocks</code> [boolean]</h3>
<p>デフォルト: <code>false</code></p>
<p>各テストごとにモックの状態を自動的に復元します。 各テスト間で<code>jest.restoreAllMocks()</code>を呼び出すのと同じです。 このオプションを指定することで、あらゆるモックに見せかけの実装を削除させ、モックを最初の時点の実装に戻させることができます。</p>
<h3><a class="anchor" aria-hidden="true" id="rootdir-string"></a><a href="#rootdir-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>rootDir</code> [string]</h3>
<p>デフォルト: <a href="#">設定ファイル</a><em>または</em> <code>package.json</code> を含むルートディレクトリ。<em>あるいは</em>、もし <code>package.json</code> が見つからなければ、<a href="https://ja.wikipedia.org/wiki/Pwd"><code>pwd</code></a> の結果を設定します。</p>
<p>Jestがテストとモジュールをその範囲内で探索するルートディレクトリを指定します。 <code>package.json</code>にJestの設定を記述してルートディレクトリをリポジトリのルートをしたい場合、この設定のパラメータ値はデフォルトの<code>package.json</code>が格納されているディレクトリとなります。</p>
<p>多くの場合、リポジトリのどこにソースコードを格納するかによって、 <code>'src'</code> または <code>'lib'</code>に設定されるでしょう。</p>
<p><em>パスを指定する他のオプションで<code>'&lt;rootDir&gt;'</code>を文字列トークンとして利用する場合は、このオプションの値を参照することに注意して下さい。 このため、例えば<a href="#setupfiles-array"><code>setupFiles</code></a>オプションのエントリポイントをルートディレクトリ直下の <code>env-setup.js</code>ファイルとしたい場合は、このオプションの値は <code>[&quot;&lt;rootDir&gt;/env-setup.js&quot;]</code>となるでしょう。</em></p>
<h3><a class="anchor" aria-hidden="true" id="roots-array-string"></a><a href="#roots-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>roots</code> [array<string>]</h3>
<p>デフォルト: <code>[&quot;&lt;rootDir&gt;&quot;]</code></p>
<p>Jestがその中でファイルを探索するのに使用するディレクトリのパスを使用します。</p>
<p>Jestに単一のサブディレクトリのみを探索させ(リポジトリ内に<code>src/</code>ディレクトリがあるなど)、リポジトリの残りの場所にはアクセスさせたくない場合に有用です。</p>
<p><em>注意: <code>rootDir</code>が他の設定オプションで再利用されるトークンとして最も頻繁に使われる一方で、<code>roots</code> はJestの内部で</em><em>テストファイルやソースコードファイル</em><em>を見つけるのに使われます。 これは <code>node_modules</code> から手動モック用にモジュールを見つける際にも適用されます（<code>__mocks__</code> も <code>roots</code> の中にある必要があります）。</em></p>
<p><em>注意： デフォルトでは、 <code>roots</code> は <code>&lt;rootDir&gt;</code> のみをエントリとして持ちますが、1つのプロジェクトで複数の roots を設定したい場合は、例えば次のように設定します: <code>roots: [&quot;&lt;rootDir&gt;/src/&quot;, &quot;&lt;rootDir&gt;/tests/&quot;]</code>。</em></p>
<h3><a class="anchor" aria-hidden="true" id="runner-string"></a><a href="#runner-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>runner</code> [string]</h3>
<p>デフォルト: <code>&quot;jest-runner&quot;</code></p>
<p>このオプションを使用すると、Jest のデフォルトのテストランナーのかわりに、カスタムのランナーを使用できます。ランナーの例としては、次のものがあります。</p>
<ul>
<li><a href="https://github.com/jest-community/jest-runner-eslint"><code>jest-runner-eslint</code></a></li>
<li><a href="https://github.com/rogeliog/jest-runner-mocha"><code>jest-runner-mocha</code></a></li>
<li><a href="https://github.com/azz/jest-runner-tsc"><code>jest-runner-tsc</code></a></li>
<li><a href="https://github.com/keplersj/jest-runner-prettier"><code>jest-runner-prettier</code></a></li>
</ul>
<p>テストランナーを書くには、コンストラクタに <code>globalConfig</code> を取り、以下のシグネチャを持つ <code>runTests</code> メソッドを定義したクラスをエクスポートします。</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">async</span> runTests(
  tests: <span class="hljs-built_in">Array</span>&lt;Test&gt;,
  watcher: TestWatcher,
  onStart: OnTestStart,
  onResult: OnTestSuccess,
  onFailure: OnTestFailure,
  options: TestRunnerOptions,
): <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="setupfiles-array"></a><a href="#setupfiles-array" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>setupFiles</code> [array]</h3>
<p>デフォルト: <code>[]</code></p>
<p>各テスト前にテスト環境の構成やセットアップを行うためのモジュールへのパスを指定します。 各テストは個々の環境でテストを実行するため、これらのスクリプトはテスト環境にてテストコードそれ自身の実行前に直ちに実行されます。</p>
<p>このスクリプトを<a href="#setuptestframeworkscriptfile-string"><code>setupTestFrameworkScriptFile</code></a>の<em>前に</em>実行することは無意味です。</p>
<h3><a class="anchor" aria-hidden="true" id="setuptestframeworkscriptfile-string"></a><a href="#setuptestframeworkscriptfile-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>setupTestFrameworkScriptFile</code> [string]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>各テスト前にテストフレームワークの構成やセットアップを行うためのモジュールへのパスを指定します。 <a href="#setupfiles-array"><code>setupFiles</code></a>で指定したスクリプトはテストフレームワークを環境にインストールする前に実行されるため、このオプションで指定したスクリプトファイルは環境にテストフレームワークがインストールされた直後のタイミングでコードを実行することができます。</p>
<p>例えばJestはjasmineのAPIにモンキーパッチを当てて動作する<code>jasmine</code>のプラグインをいくつか提供しています。 もしより多くのjasmineプラグインを混在して(または例えばプロジェクト単位で利用するカスタムマッチャが必要な場合) 追加した場合は、このもモジュールで実現できます。</p>
<h3><a class="anchor" aria-hidden="true" id="snapshotserializers-array-string"></a><a href="#snapshotserializers-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>snapshotSerializers</code> [array<string>]</h3>
<p>デフォルト: <code>[]</code></p>
<p>Jestがスナップショットテストに利用するスナップショットのシリアライザーのモジュールのパスのリストを指定します。</p>
<p>Jest は組み込みの JavaScript 型、HTML 要素 (Jest バージョン20.0.0+)、ImmutableJS (Jest バージョン20.0.0+)、そして React 要素に対応したデフォルトのシリアライザーを備えています。 詳細については <a href="/docs/ja/22.4/tutorial-react-native#snapshot-test"> snapshot test tutorial</a> を参照してください。</p>
<p>シリアライザー モジュールの例:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// my-serializer-module</span>
<span class="hljs-built_in">module</span>.exports = {
  print(val, serialize, indent) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Pretty foo: '</span> + serialize(val.foo);
  },

  test(val) {
    <span class="hljs-keyword">return</span> val &amp;&amp; val.hasOwnProperty(<span class="hljs-string">'foo'</span>);
  },
};
</code></pre>
<p><code>serialize</code>は既存のプラグインを利用して値をシリアライズする関数です。</p>
<p><code>my-serializer-module</code>をシリアライザーとして使用する場合は、下記のような設定になります。</p>
<pre><code class="hljs css language-json">{
  ...
  "jest": {
    "snapshotSerializers": ["my-serializer-module"]
  }
}
</code></pre>
<p>最終的にテストは下記のようになります:</p>
<pre><code class="hljs css language-js">test(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> bar = {
    <span class="hljs-attr">foo</span>: {
      <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">y</span>: <span class="hljs-number">2</span>,
    },
  };

  expect(bar).toMatchSnapshot();
});
</code></pre>
<p>レンダリングされたスナップショット:</p>
<pre><code class="hljs css language-json">Pretty foo: Object {
  "x": 1,
  "y": 2,
}
</code></pre>
<p>シリアライザーの依存関係を暗黙的から明示的なものにするには、Jest の設定に <code>snapshotSerializers</code> へのパスを追加する代わりに、<a href="/docs/ja/22.4/expect#expectaddsnapshotserializerserializer"><code>expect.addSnapshotSerializer</code></a> を呼び出してテストファイルに対応するモジュールを追加することもできます。</p>
<h3><a class="anchor" aria-hidden="true" id="testenvironment-string"></a><a href="#testenvironment-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testEnvironment</code> [string]</h3>
<p>デフォルト: <code>&quot;jsdom&quot;</code></p>
<p>テスト実行時に使用されるテスト環境を指定します。 Jestのデフォルトの環境は <a href="https://github.com/tmpvar/jsdom">jsdom</a>を経由したブラウザライクな環境です。 Node環境によるサービスを構築する場合は、 <code>node</code>オプションを指定することでnodeライクな環境を代わりに使うことができます。</p>
<p>一部のテストで他の環境が必要となる場合、コメント部に<code>@jest-environment</code>を追加することができます。</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">/**
 * @jest-environment jsdom
 */</span>

test(<span class="hljs-string">'use jsdom in this test file'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> element = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
  expect(element).not.toBeNull();
});
</code></pre>
<p>テスト環境のセットアップに使用する独自のモジュールを作成できます。 モジュールは、<code>setup</code>、 <code>teardown</code> および <code>runScript</code> メソッドを持つクラスをエクスポートする必要があります。 You can also pass variables from this module to your test suites by assigning them to <code>this.global</code> object – this will make them available in your test suites as global variables.</p>
<p><em>Note: TestEnvironment is sandboxed. Each test suite will trigger setup/teardown in their own TestEnvironment.</em></p>
<p>例:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// my-custom-environment</span>
<span class="hljs-keyword">const</span> NodeEnvironment = <span class="hljs-built_in">require</span>(<span class="hljs-string">'jest-environment-node'</span>);

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomEnvironment</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">NodeEnvironment</span> </span>{
  <span class="hljs-keyword">constructor</span>(config) {
    <span class="hljs-keyword">super</span>(config);
  }

  <span class="hljs-keyword">async</span> setup() {
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">super</span>.setup();
    <span class="hljs-keyword">await</span> someSetupTasks();
    <span class="hljs-keyword">this</span>.global.someGlobalObject = createGlobalObject();
  }

  <span class="hljs-keyword">async</span> teardown() {
    <span class="hljs-keyword">this</span>.global.someGlobalObject = destroyGlobalObject();
    <span class="hljs-keyword">await</span> someTeardownTasks();
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">super</span>.teardown();
  }

  runScript(script) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.runScript(script);
  }
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">// my-test-suite</span>
<span class="hljs-keyword">let</span> someGlobalObject;

beforeAll(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  someGlobalObject = global.someGlobalObject;
});
</code></pre>
<p><em>Note: Jest comes with JSDOM@11 by default. Due to JSDOM 12 and newer dropping support for Node 6, Jest is unable to upgrade for the time being. However, you can install a custom <code>testEnvironment</code> with whichever version of JSDOM you want. E.g. <a href="https://www.npmjs.com/package/jest-environment-jsdom-thirteen">jest-environment-jsdom-thirteen</a>, which has JSDOM@13.</em></p>
<h3><a class="anchor" aria-hidden="true" id="testenvironmentoptions-object"></a><a href="#testenvironmentoptions-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testEnvironmentOptions</code> [Object]</h3>
<p>デフォルト: <code>{}</code></p>
<p><code>testEnvironment</code> に渡されるテスト環境のオプションです。 The relevant options depend on the environment. For example you can override options given to <a href="https://github.com/tmpvar/jsdom">jsdom</a> such as <code>{userAgent: &quot;Agent/007&quot;}</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="testmatch-array-string"></a><a href="#testmatch-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testMatch</code> [array<string>]</h3>
<p>(デフォルト: <code>[ '**/__tests__/**/*.js?(x)', '**/?(*.)(spec|test).js?(x)' ]</code>)</p>
<p>テストファイルを検出するのにJestが使用するglobパターンを指定します。 By default it looks for <code>.js</code> and <code>.jsx</code> files inside of <code>__tests__</code> folders, as well as any files with a suffix of <code>.test</code> or <code>.spec</code> (e.g. <code>Component.test.js</code> or <code>Component.spec.js</code>). <code>test.js</code> または <code>spec.js</code> といったファイルについても同様に見つけます。</p>
<p>See the <a href="https://github.com/jonschlinkert/micromatch">micromatch</a> package for details of the patterns you can specify.</p>
<p>See also <a href="#testregex-string"><code>testRegex</code> [string]</a>, but note that you cannot specify both options.</p>
<h3><a class="anchor" aria-hidden="true" id="testpathignorepatterns-array-string"></a><a href="#testpathignorepatterns-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testPathIgnorePatterns</code> [array<string>]</h3>
<p>デフォルト: <code>[&quot;/node_modules/&quot;]</code></p>
<p>テスト実行前に全てのファイルのパスに対して照合する正規表現パターンの配列を指定します。テストパスがパターンのいずれかにマッチした場合、そのテストはスキップされます。</p>
<p>パターン文字列はフルパスに対して照合されます。 <code>&lt;rootDir&gt;</code> 文字列トークンをプロジェクトのルートディレクトリとして指定することで、異なるルートディレクトリを持ちうる異なる環境のファイルを誤って無視してしまうことを防ぐことができます。 例: <code>[&quot;&lt;rootDir&gt;/build/&quot;, &quot;&lt;rootDir&gt;/node_modules/&quot;]</code>。</p>
<h3><a class="anchor" aria-hidden="true" id="testregex-string"></a><a href="#testregex-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testRegex</code> [string]</h3>
<p>デフォルト: <code>(/__tests__/.*|(\\.|/)(test|spec))\\.jsx?$</code></p>
<p>テストファイルを検出するのにJestが使用するパターンを指定します。 By default it looks for <code>.js</code> and <code>.jsx</code> files inside of <code>__tests__</code> folders, as well as any files with a suffix of <code>.test</code> or <code>.spec</code> (e.g. <code>Component.test.js</code> or <code>Component.spec.js</code>). <code>test.js</code> または <code>spec.js</code> といったファイルについても同様に見つけます。 See also <a href="#testmatch-array-string"><code>testMatch</code> [array<string>]</a>, but note that you cannot specify both options.</p>
<p>以下はデフォルトの正規表現を可視化したものです。</p>
<pre><code class="hljs css language-bash">├── __tests__
│   └── component.spec.js <span class="hljs-comment"># test</span>
│   └── anything <span class="hljs-comment"># test</span>
├── package.json <span class="hljs-comment"># not test</span>
├── foo.test.js <span class="hljs-comment"># test</span>
├── bar.spec.jsx <span class="hljs-comment"># test</span>
└── component.js <span class="hljs-comment"># not test</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="testresultsprocessor-string"></a><a href="#testresultsprocessor-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testResultsProcessor</code> [string]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>独自の results processor を利用する場合はこのオプションを指定します。 results processor は、以下の構造のオブジェクトを第一引数として期待する関数をエクスポートする node モジュールで、引数に取ったオブジェクトを返す必要があります：</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"success"</span>: bool,
  <span class="hljs-attr">"startTime"</span>: epoch,
  <span class="hljs-attr">"numTotalTestSuites"</span>: number,
  <span class="hljs-attr">"numPassedTestSuites"</span>: number,
  <span class="hljs-attr">"numFailedTestSuites"</span>: number,
  <span class="hljs-attr">"numRuntimeErrorTestSuites"</span>: number,
  <span class="hljs-attr">"numTotalTests"</span>: number,
  <span class="hljs-attr">"numPassedTests"</span>: number,
  <span class="hljs-attr">"numFailedTests"</span>: number,
  <span class="hljs-attr">"numPendingTests"</span>: number,
  <span class="hljs-attr">"testResults"</span>: [{
    <span class="hljs-attr">"numFailingTests"</span>: number,
    <span class="hljs-attr">"numPassingTests"</span>: number,
    <span class="hljs-attr">"numPendingTests"</span>: number,
    <span class="hljs-attr">"testResults"</span>: [{
      <span class="hljs-attr">"title"</span>: string (message in it block),
      <span class="hljs-attr">"status"</span>: <span class="hljs-string">"failed"</span> | <span class="hljs-string">"pending"</span> | <span class="hljs-string">"passed"</span>,
      <span class="hljs-attr">"ancestorTitles"</span>: [string (message in describe blocks)],
      <span class="hljs-attr">"failureMessages"</span>: [string],
      <span class="hljs-attr">"numPassingAsserts"</span>: number,
      <span class="hljs-attr">"location"</span>: {
        <span class="hljs-attr">"column"</span>: number,
        <span class="hljs-attr">"line"</span>: number
      }
    },
    ...
    ],
    <span class="hljs-attr">"perfStats"</span>: {
      <span class="hljs-attr">"start"</span>: epoch,
      <span class="hljs-attr">"end"</span>: epoch
    },
    <span class="hljs-attr">"testFilePath"</span>: absolute path to test file,
    <span class="hljs-attr">"coverage"</span>: {}
  },
  ...
  ]
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="testrunner-string"></a><a href="#testrunner-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testRunner</code> [string]</h3>
<p>デフォルト: <code>jasmine2</code></p>
<p>このオプションでカスタムのテストランナーを指定できます。既定値は jasmine2 です。カスタムのテストランナーは、テストランナーの実装へのパスを指定することによって提供されます。</p>
<p>テストランナーのモジュールは、下記のシグネチャを持つ関数をエクスポートしなければなりません:</p>
<pre><code class="hljs css language-ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testRunner</span>(<span class="hljs-params">
  config: Config,
  environment: Environment,
  runtime: Runtime,
  testPath: <span class="hljs-built_in">string</span>,
</span>): <span class="hljs-title">Promise</span>&lt;<span class="hljs-title">TestResult</span>&gt;</span>;
</code></pre>
<p>このような関数の例は、デフォルトの <a href="https://github.com/facebook/jest/blob/master/packages/jest-jasmine2/src/index.js">jasmine2 test runner package</a>で確認できます。</p>
<h3><a class="anchor" aria-hidden="true" id="testurl-string"></a><a href="#testurl-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testURL</code> [string]</h3>
<p>デフォルト: <code>about:blank</code></p>
<p>このオプションは、jsdom 環境の URL を指定します。<code>location.href</code> などのプロパティに反映されます。</p>
<h3><a class="anchor" aria-hidden="true" id="timers-string"></a><a href="#timers-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>timers</code> [string]</h3>
<p>デフォルト: <code>real</code></p>
<p>この値を <code>fake</code> に設定することで、<code>setTimeout</code>などの関数に対して偽のタイマーを使用することができます。 偽のタイマーはテストでは待ちたくないような長いタイムアウト時間を設定するようなコードがある時に役立ちます。</p>
<h3><a class="anchor" aria-hidden="true" id="transform-object-string-string"></a><a href="#transform-object-string-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>transform</code> [object&lt;string, string&gt;]</h3>
<p>デフォルト: <code>undefined</code></p>
<p>正規表現からtransformerへのパスへのマップを指定します。 transformerはソースファイルを変換する同期処理を行う関数を提供するモジュールです。 例えばまだnodeではサポートされていない新しい言語の機能をモジュールやテストで使用したい時、将来のJavaScriptのバージョンを現在のものに変換する多くのコンパイラの中の１つをプラグインとして利用するでしょう。 例: <a href="https://github.com/facebook/jest/blob/master/examples/typescript/package.json#L16">examples/typescript</a> の例や <a href="/docs/ja/22.4/webpack">webpack tutorial</a> を参照してください。</p>
<p>このようなコンパイラの例には、<a href="https://babeljs.io/">babel</a>、 <a href="http://www.typescriptlang.org/">typescript</a>、や <a href="http://github.com/leebyron/async-to-gen#jest">async-to-gen</a> が含まれます。</p>
<p><em>Note: a transformer is only run once per file unless the file has changed. During development of a transformer it can be useful to run Jest with <code>--no-cache</code> to frequently <a href="/docs/ja/22.4/troubleshooting#caching-issues">delete Jest's cache</a>.</em></p>
<p><em>注意: <code>babel-jest</code> transformerを使用しながら追加でコードのプリプロセッサを使用したい場合は、何らかの方法で &quot;transform&quot; フィールドが上書きされると<code>babel-jest</code> は自動的には読み込まれなってしまうことに注意して下さい。 JavaScriptコードのコンパイルに<code>babel-jest</code> を使用したい場合は明示的に定義されなければなりません。 <a href="https://github.com/facebook/jest/tree/master/packages/babel-jest#setup">babel-jest plugin</a>を参照して下さい。</em></p>
<h3><a class="anchor" aria-hidden="true" id="transformignorepatterns-array-string"></a><a href="#transformignorepatterns-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>transformIgnorePatterns</code> [array<string>]</h3>
<p>デフォルト: <code>[&quot;/node_modules/&quot;]</code></p>
<p>変換前に全てのソースコードファイルのパスに対して照合する正規表現パターンの配列を指定します。パスがパターンのいずれかにマッチした場合、そのファイルは変換されません。</p>
<p>パターン文字列はフルパスに対して照合されます。 <code>&lt;rootDir&gt;</code> 文字列トークンをプロジェクトのルートディレクトリとして指定することで、異なるルートディレクトリを持ちうる異なる環境のファイルを誤って無視してしまうことを防ぐことができます。</p>
<p>例:<code>[&quot;&lt;rootDir&gt;/bower_components/&quot;, &quot;&lt;rootDir&gt;/node_modules/&quot;]</code>。</p>
<p>Sometimes it happens (especially in React Native or TypeScript projects) that 3rd party modules are published as untranspiled. Since all files inside <code>node_modules</code> are not transformed by default, Jest will not understand the code in these modules, resulting in syntax errors. To overcome this, you may use <code>transformIgnorePatterns</code> to whitelist such modules. You'll find a good example of this use case in <a href="https://jestjs.io/docs/en/tutorial-react-native.html#transformignorepatterns-customization">React Native Guide</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="unmockedmodulepathpatterns-array-string"></a><a href="#unmockedmodulepathpatterns-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>unmockedModulePathPatterns</code> [array<string>]</h3>
<p>デフォルト: <code>[]</code></p>
<p>モジュールローダーが自動的にモック返す前に全てのモジュールに対して照合する正規表現パターンの配列を指定します。 モジュールのパスがリスト中のいずれかのパターンにマッチした場合、モジュールローダーによる自動的なモック化は行われません。</p>
<p>このオプションは(underscore/lo-dashなどのような) ほぼ常にプライベートな処理の実装には、ほぼいつも利用される一般的に'ユーティリティ' モジュールに関して役に立ちます。 出来るだけこのリストを小さく保ち、個々のテスト内で<code>jest.mock()</code>/<code>jest.unmock()</code>を常に明示的に使用することが大抵の場合でベストプラクティスとなります。 明示的にテスト前にセットアップを行うことで、テストを読む他の人がそのテストがなぜその環境で実行されるのかを理解するのがとても簡単にになります。</p>
<p>個々のテストにおいて、テストファイルの先頭で<code>jest.mock()</code>を明示的に呼び出す事でこの設定を上書きすることが可能です。</p>
<h3><a class="anchor" aria-hidden="true" id="verbose-boolean"></a><a href="#verbose-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>verbose</code> [boolean]</h3>
<p>デフォルト: <code>false</code></p>
<p>テスト実行中に個々のテストのレポートを出力するかどうかを指定します。すべてのエラーはテスト完了後に最後尾にも出力されます。</p>
<h3><a class="anchor" aria-hidden="true" id="watchpathignorepatterns-array-string"></a><a href="#watchpathignorepatterns-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>watchPathIgnorePatterns</code> [array<string>]</h3>
<p>デフォルト: <code>[]</code></p>
<p>ウォッチモードでテストを再実行する前に、全てのソースファイルのパスと照合させる正規表現パターンの配列です。 ファイルのパスがパターンのどれかに一致していれば、ファイルが更新された際にテストを再実行しません。</p>
<p>正規表現パターンはフルパスに対して照合されます。 <code>&lt;rootDir&gt;</code> 文字列トークンをプロジェクトのルートディレクトリとして指定することで、異なるルートディレクトリを持ちうる異なる環境のファイルを誤って無視してしまうことを防ぐことができます。 例： <code>[&quot;&lt;rootDir&gt;/node_modules/&quot;]</code></p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/ja/22.4/jest-object"><span class="arrow-prev">← </span><span>The Jest Object</span></a><a class="docs-next button" href="/docs/ja/22.4/cli"><span>Jest CLI Options</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#オプション">オプション</a></li><li><a href="#リファレンス">リファレンス</a><ul class="toc-headings"><li><a href="#automock-boolean"><code>automock</code> [boolean]</a></li><li><a href="#browser-boolean"><code>browser</code> [boolean]</a></li><li><a href="#bail-boolean"><code>bail</code> [boolean]</a></li><li><a href="#cachedirectory-string"><code>cacheDirectory</code> [string]</a></li><li><a href="#collectcoverage-boolean"><code>collectCoverage</code> [boolean]</a></li><li><a href="#collectcoveragefrom-array"><code>collectCoverageFrom</code> [array]</a></li><li><a href="#coveragedirectory-string"><code>coverageDirectory</code> [string]</a></li><li><a href="#coveragepathignorepatterns-array-string"><code>coveragePathIgnorePatterns</code> [array]</a></li><li><a href="#coveragereporters-array-string"><code>coverageReporters</code> [array]</a></li><li><a href="#coveragethreshold-object"><code>coverageThreshold</code> [object]</a></li><li><a href="#forcecoveragematch-array-string"><code>forceCoverageMatch</code> [array]</a></li><li><a href="#globals-object"><code>globals</code> [object]</a></li><li><a href="#globalsetup-string"><code>globalSetup</code> [string]</a></li><li><a href="#globalteardown-string"><code>globalTeardown</code> [string]</a></li><li><a href="#modulefileextensions-array-string"><code>moduleFileExtensions</code> [array]</a></li><li><a href="#moduledirectories-array-string"><code>moduleDirectories</code> [array]</a></li><li><a href="#modulenamemapper-object-string-string"><code>moduleNameMapper</code> [object]</a></li><li><a href="#modulepathignorepatterns-array-string"><code>modulePathIgnorePatterns</code> [array]</a></li><li><a href="#modulepaths-array-string"><code>modulePaths</code> [array]</a></li><li><a href="#notify-boolean"><code>notify</code> [boolean]</a></li><li><a href="#notifymode-string"><code>notifyMode</code> [string]</a></li><li><a href="#preset-string"><code>preset</code> [string]</a></li><li><a href="#projects-array-string-projectconfig"><code>projects</code> [array]</a></li><li><a href="#clearmocks-boolean"><code>clearMocks</code> [boolean]</a></li><li><a href="#reporters-array-modulename-modulename-options"><code>reporters</code> [array]</a></li><li><a href="#resetmocks-boolean"><code>resetMocks</code> [boolean]</a></li><li><a href="#resetmodules-boolean"><code>resetModules</code> [boolean]</a></li><li><a href="#resolver-string"><code>resolver</code> [string]</a></li><li><a href="#restoremocks-boolean"><code>restoreMocks</code> [boolean]</a></li><li><a href="#rootdir-string"><code>rootDir</code> [string]</a></li><li><a href="#roots-array-string"><code>roots</code> [array]</a></li><li><a href="#runner-string"><code>runner</code> [string]</a></li><li><a href="#setupfiles-array"><code>setupFiles</code> [array]</a></li><li><a href="#setuptestframeworkscriptfile-string"><code>setupTestFrameworkScriptFile</code> [string]</a></li><li><a href="#snapshotserializers-array-string"><code>snapshotSerializers</code> [array]</a></li><li><a href="#testenvironment-string"><code>testEnvironment</code> [string]</a></li><li><a href="#testenvironmentoptions-object"><code>testEnvironmentOptions</code> [Object]</a></li><li><a href="#testmatch-array-string"><code>testMatch</code> [array]</a></li><li><a href="#testpathignorepatterns-array-string"><code>testPathIgnorePatterns</code> [array]</a></li><li><a href="#testregex-string"><code>testRegex</code> [string]</a></li><li><a href="#testresultsprocessor-string"><code>testResultsProcessor</code> [string]</a></li><li><a href="#testrunner-string"><code>testRunner</code> [string]</a></li><li><a href="#testurl-string"><code>testURL</code> [string]</a></li><li><a href="#timers-string"><code>timers</code> [string]</a></li><li><a href="#transform-object-string-string"><code>transform</code> [object]</a></li><li><a href="#transformignorepatterns-array-string"><code>transformIgnorePatterns</code> [array]</a></li><li><a href="#unmockedmodulepathpatterns-array-string"><code>unmockedModulePathPatterns</code> [array]</a></li><li><a href="#verbose-boolean"><code>verbose</code> [boolean]</a></li><li><a href="#watchpathignorepatterns-array-string"><code>watchPathIgnorePatterns</code> [array]</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/jest-outline.svg" alt="Jest" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/ja/getting-started.html">Getting Started</a><a href="/docs/ja/snapshot-testing.html">Guides</a><a href="/docs/ja/api.html">API Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discord.gg/MWRhKCj">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2019 Facebook Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '833906d7486e4059359fa58823c4ef56',
                indexName: 'jest',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:ja","version:22.4"]}
              });
            </script></body></html>